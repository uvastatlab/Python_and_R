<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Manipulation | Python and R</title>
  <meta name="description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Manipulation | Python and R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  <meta name="github-repo" content="uvastatlab/Python_and_R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Manipulation | Python and R" />
  
  <meta name="twitter:description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  

<meta name="author" content="Clay Ford, Jacob Goldstein-Greenwood, Oyinkansola Adenekan, Samantha Lomuscio" />


<meta name="date" content="2022-03-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="import-export-and-save-data.html"/>
<link rel="next" href="combine-reshape-and-merge.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python and R</a></li>

<li class="divider"></li>
<li><a href="index.html#welcome">Welcome<span></span></a></li>
<li class="chapter" data-level="1" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>1</b> Basics<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="basics.html"><a href="basics.html#math"><i class="fa fa-check"></i><b>1.1</b> Math<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="basics.html"><a href="basics.html#missing-values"><i class="fa fa-check"></i><b>1.2</b> Missing values<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="basics.html"><a href="basics.html#assignment"><i class="fa fa-check"></i><b>1.3</b> Assignment<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="basics.html"><a href="basics.html#printing-a-value"><i class="fa fa-check"></i><b>1.4</b> Printing a value<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="basics.html"><a href="basics.html#packages"><i class="fa fa-check"></i><b>1.5</b> Packages<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="basics.html"><a href="basics.html#logic"><i class="fa fa-check"></i><b>1.6</b> Logic<span></span></a></li>
<li class="chapter" data-level="1.7" data-path="basics.html"><a href="basics.html#generating-a-sequence-of-values"><i class="fa fa-check"></i><b>1.7</b> Generating a sequence of values<span></span></a></li>
<li class="chapter" data-level="1.8" data-path="basics.html"><a href="basics.html#calculating-means-and-medians"><i class="fa fa-check"></i><b>1.8</b> Calculating means and medians<span></span></a></li>
<li class="chapter" data-level="1.9" data-path="basics.html"><a href="basics.html#writing-your-own-functions"><i class="fa fa-check"></i><b>1.9</b> Writing your own functions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Data Structures<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#one-dimensional-data"><i class="fa fa-check"></i><b>2.1</b> One-dimensional data<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#two-dimensional-data"><i class="fa fa-check"></i><b>2.2</b> Two-dimensional data<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="data-structures.html"><a href="data-structures.html#three-dimensional-and-higher-data"><i class="fa fa-check"></i><b>2.3</b> Three-dimensional and higher data<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="data-structures.html"><a href="data-structures.html#general-data-structures"><i class="fa fa-check"></i><b>2.4</b> General data structures<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html"><i class="fa fa-check"></i><b>3</b> Import, Export, and Save Data<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html#csv"><i class="fa fa-check"></i><b>3.1</b> CSV<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html#xlsxlsx-excel"><i class="fa fa-check"></i><b>3.2</b> XLS/XLSX (Excel)<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html#json"><i class="fa fa-check"></i><b>3.3</b> JSON<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html#xml"><i class="fa fa-check"></i><b>3.4</b> XML<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="import-export-and-save-data.html"><a href="import-export-and-save-data.html#exportingwritingsaving-data-and-variables"><i class="fa fa-check"></i><b>3.5</b> Exporting/Writing/Saving data and variables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#names-of-variables-and-their-types"><i class="fa fa-check"></i><b>4.1</b> Names of variables and their types<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#select-variables"><i class="fa fa-check"></i><b>4.2</b> Select variables<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#filtersubset-variables"><i class="fa fa-check"></i><b>4.3</b> Filter/Subset variables<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#rename-variables"><i class="fa fa-check"></i><b>4.4</b> Rename variables<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="data-manipulation.html"><a href="data-manipulation.html#create-replace-and-remove-variables"><i class="fa fa-check"></i><b>4.5</b> Create, replace and remove variables<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="data-manipulation.html"><a href="data-manipulation.html#create-strings-from-numbers"><i class="fa fa-check"></i><b>4.6</b> Create strings from numbers<span></span></a></li>
<li class="chapter" data-level="4.7" data-path="data-manipulation.html"><a href="data-manipulation.html#create-numbers-from-strings"><i class="fa fa-check"></i><b>4.7</b> Create numbers from strings<span></span></a></li>
<li class="chapter" data-level="4.8" data-path="data-manipulation.html"><a href="data-manipulation.html#combine-strings"><i class="fa fa-check"></i><b>4.8</b> Combine strings<span></span></a></li>
<li class="chapter" data-level="4.9" data-path="data-manipulation.html"><a href="data-manipulation.html#finding-and-replacing-patterns-within-strings"><i class="fa fa-check"></i><b>4.9</b> Finding and replacing patterns within strings<span></span></a></li>
<li class="chapter" data-level="4.10" data-path="data-manipulation.html"><a href="data-manipulation.html#change-case"><i class="fa fa-check"></i><b>4.10</b> Change case<span></span></a></li>
<li class="chapter" data-level="4.11" data-path="data-manipulation.html"><a href="data-manipulation.html#drop-duplicate-rows"><i class="fa fa-check"></i><b>4.11</b> Drop duplicate rows<span></span></a></li>
<li class="chapter" data-level="4.12" data-path="data-manipulation.html"><a href="data-manipulation.html#format-dates"><i class="fa fa-check"></i><b>4.12</b> Format dates<span></span></a></li>
<li class="chapter" data-level="4.13" data-path="data-manipulation.html"><a href="data-manipulation.html#randomly-sample-rows"><i class="fa fa-check"></i><b>4.13</b> Randomly sample rows<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html"><i class="fa fa-check"></i><b>5</b> Combine, Reshape and Merge<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#combine-rows"><i class="fa fa-check"></i><b>5.1</b> Combine rows<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#combine-columns"><i class="fa fa-check"></i><b>5.2</b> Combine columns<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#reshaping-data"><i class="fa fa-check"></i><b>5.3</b> Reshaping data<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#wide-to-long"><i class="fa fa-check"></i><b>5.3.1</b> Wide to long<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#long-to-wide"><i class="fa fa-check"></i><b>5.3.2</b> Long to wide<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#mergejoin"><i class="fa fa-check"></i><b>5.4</b> Merge/Join<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#left-join"><i class="fa fa-check"></i><b>5.4.1</b> Left Join<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#right-join"><i class="fa fa-check"></i><b>5.4.2</b> Right Join<span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#inner-join"><i class="fa fa-check"></i><b>5.4.3</b> Inner Join<span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#outer-join"><i class="fa fa-check"></i><b>5.4.4</b> Outer Join<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="aggregation-and-group-operations.html"><a href="aggregation-and-group-operations.html"><i class="fa fa-check"></i><b>6</b> Aggregation and Group Operations<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="aggregation-and-group-operations.html"><a href="aggregation-and-group-operations.html#cross-tabulation"><i class="fa fa-check"></i><b>6.1</b> Cross tabulation<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="aggregation-and-group-operations.html"><a href="aggregation-and-group-operations.html#group-summaries"><i class="fa fa-check"></i><b>6.2</b> Group summaries<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="aggregation-and-group-operations.html"><a href="aggregation-and-group-operations.html#centering-and-scaling"><i class="fa fa-check"></i><b>6.3</b> Centering and Scaling<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html"><i class="fa fa-check"></i><b>7</b> Basic Plotting and Visualization<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#histograms"><i class="fa fa-check"></i><b>7.1</b> Histograms<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#barplots"><i class="fa fa-check"></i><b>7.2</b> Barplots<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#scatterplot"><i class="fa fa-check"></i><b>7.3</b> Scatterplot<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#stripcharts"><i class="fa fa-check"></i><b>7.4</b> Stripcharts<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#boxplots"><i class="fa fa-check"></i><b>7.5</b> Boxplots<span></span></a></li>
<li class="chapter" data-level="7.6" data-path="basic-plotting-and-visualization.html"><a href="basic-plotting-and-visualization.html#facet-plots"><i class="fa fa-check"></i><b>7.6</b> Facet plots<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="selected-topics-in-statistical-inference.html"><a href="selected-topics-in-statistical-inference.html"><i class="fa fa-check"></i><b>8</b> Selected Topics in Statistical Inference<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="selected-topics-in-statistical-inference.html"><a href="selected-topics-in-statistical-inference.html#comparing-group-means"><i class="fa fa-check"></i><b>8.1</b> Comparing group means<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="selected-topics-in-statistical-inference.html"><a href="selected-topics-in-statistical-inference.html#comparing-group-proportions"><i class="fa fa-check"></i><b>8.2</b> Comparing group proportions<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="selected-topics-in-statistical-inference.html"><a href="selected-topics-in-statistical-inference.html#linear-modeling"><i class="fa fa-check"></i><b>8.3</b> Linear modeling<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="selected-topics-in-statistical-inference.html"><a href="selected-topics-in-statistical-inference.html#logistic-regression"><i class="fa fa-check"></i><b>8.4</b> Logistic regression<span></span></a></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-manipulation" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Manipulation<a href="data-manipulation.html#data-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter looks at various strategies for filtering, selecting, modifying and deriving variables in data. Unless otherwise stated, examples are for DataFrames (Python) and data frames (R) and use the mtcars data frame that is included with R.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="data-manipulation.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># Python</span></span>
<span id="cb91-2"><a href="data-manipulation.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="im">import</span> pandas</span>
<span id="cb91-3"><a href="data-manipulation.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars <span class="op">=</span> pandas.read_csv(<span class="st">&#39;data/mtcars.csv&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-manipulation.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># R</span></span>
<span id="cb92-2"><a href="data-manipulation.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">data</span>(mtcars)</span>
<span id="cb92-3"><a href="data-manipulation.html#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># drop row names to match Python version of data</span></span>
<span id="cb92-4"><a href="data-manipulation.html#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">rownames</span>(mtcars) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div id="names-of-variables-and-their-types" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Names of variables and their types<a href="data-manipulation.html#names-of-variables-and-their-types" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>View and inspect the names of variables and their type (numeric, string, logical, etc.) This is useful to ensure that variables have the expected type.</p>
<div id="python-17" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-17" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>.info()</code> function in pandas lists information on the DataFrame.</p>
<p>Setting the argument <code>verbose</code> to <code>True</code> prints the name of the columns, their length excluding <code>NULL</code> values, and their data type (<code>dtype</code>) in a table. The function lists the unique data types in the DataFrame, and it prints how much memory the DataFrame takes up.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="data-manipulation.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars.info(verbose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb93-2"><a href="data-manipulation.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.frame.DataFrame&#39;</span><span class="op">&gt;</span></span>
<span id="cb93-3"><a href="data-manipulation.html#cb93-3" aria-hidden="true" tabindex="-1"></a>RangeIndex: <span class="dv">32</span> entries, <span class="dv">0</span> to <span class="dv">31</span></span>
<span id="cb93-4"><a href="data-manipulation.html#cb93-4" aria-hidden="true" tabindex="-1"></a>Data columns (total <span class="dv">11</span> columns):</span>
<span id="cb93-5"><a href="data-manipulation.html#cb93-5" aria-hidden="true" tabindex="-1"></a> <span class="co">#   Column  Non-Null Count  Dtype  </span></span>
<span id="cb93-6"><a href="data-manipulation.html#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="op">---</span>  <span class="op">------</span>  <span class="op">--------------</span>  <span class="op">-----</span>  </span>
<span id="cb93-7"><a href="data-manipulation.html#cb93-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">0</span>   mpg     <span class="dv">32</span> non<span class="op">-</span>null     float64</span>
<span id="cb93-8"><a href="data-manipulation.html#cb93-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>   cyl     <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-9"><a href="data-manipulation.html#cb93-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span>   disp    <span class="dv">32</span> non<span class="op">-</span>null     float64</span>
<span id="cb93-10"><a href="data-manipulation.html#cb93-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span>   hp      <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-11"><a href="data-manipulation.html#cb93-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span>   drat    <span class="dv">32</span> non<span class="op">-</span>null     float64</span>
<span id="cb93-12"><a href="data-manipulation.html#cb93-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span>   wt      <span class="dv">32</span> non<span class="op">-</span>null     float64</span>
<span id="cb93-13"><a href="data-manipulation.html#cb93-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span>   qsec    <span class="dv">32</span> non<span class="op">-</span>null     float64</span>
<span id="cb93-14"><a href="data-manipulation.html#cb93-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span>   vs      <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-15"><a href="data-manipulation.html#cb93-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span>   am      <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-16"><a href="data-manipulation.html#cb93-16" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span>   gear    <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-17"><a href="data-manipulation.html#cb93-17" aria-hidden="true" tabindex="-1"></a> <span class="dv">10</span>  carb    <span class="dv">32</span> non<span class="op">-</span>null     int64  </span>
<span id="cb93-18"><a href="data-manipulation.html#cb93-18" aria-hidden="true" tabindex="-1"></a>dtypes: float64(<span class="dv">5</span>), int64(<span class="dv">6</span>)</span>
<span id="cb93-19"><a href="data-manipulation.html#cb93-19" aria-hidden="true" tabindex="-1"></a>memory usage: <span class="fl">2.9</span> KB</span></code></pre></div>
<p>Setting <code>verbose</code> to <code>False</code> excludes the table describing each column.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="data-manipulation.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars.info(verbose<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb94-2"><a href="data-manipulation.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.frame.DataFrame&#39;</span><span class="op">&gt;</span></span>
<span id="cb94-3"><a href="data-manipulation.html#cb94-3" aria-hidden="true" tabindex="-1"></a>RangeIndex: <span class="dv">32</span> entries, <span class="dv">0</span> to <span class="dv">31</span></span>
<span id="cb94-4"><a href="data-manipulation.html#cb94-4" aria-hidden="true" tabindex="-1"></a>Columns: <span class="dv">11</span> entries, mpg to carb</span>
<span id="cb94-5"><a href="data-manipulation.html#cb94-5" aria-hidden="true" tabindex="-1"></a>dtypes: float64(<span class="dv">5</span>), int64(<span class="dv">6</span>)</span>
<span id="cb94-6"><a href="data-manipulation.html#cb94-6" aria-hidden="true" tabindex="-1"></a>memory usage: <span class="fl">2.9</span> KB</span></code></pre></div>
<p>If a DataFrame has 100 or fewer columns, the <code>verbose</code> argument defaults to <code>True</code>.</p>
</div>
<div id="r-17" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-17" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>str()</code> function in R lists the names of the variables, their type, the first few values, and the dimensions of the data frame.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-manipulation.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">str</span>(mtcars)</span>
<span id="cb95-2"><a href="data-manipulation.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">32</span> obs. of  <span class="dv">11</span> variables<span class="sc">:</span></span>
<span id="cb95-3"><a href="data-manipulation.html#cb95-3" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> mpg <span class="sc">:</span> num  <span class="dv">21</span> <span class="dv">21</span> <span class="fl">22.8</span> <span class="fl">21.4</span> <span class="fl">18.7</span> <span class="fl">18.1</span> <span class="fl">14.3</span> <span class="fl">24.4</span> <span class="fl">22.8</span> <span class="fl">19.2</span> ...</span>
<span id="cb95-4"><a href="data-manipulation.html#cb95-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> cyl <span class="sc">:</span> num  <span class="dv">6</span> <span class="dv">6</span> <span class="dv">4</span> <span class="dv">6</span> <span class="dv">8</span> <span class="dv">6</span> <span class="dv">8</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">6</span> ...</span>
<span id="cb95-5"><a href="data-manipulation.html#cb95-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> disp<span class="sc">:</span> num  <span class="dv">160</span> <span class="dv">160</span> <span class="dv">108</span> <span class="dv">258</span> <span class="dv">360</span> ...</span>
<span id="cb95-6"><a href="data-manipulation.html#cb95-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> hp  <span class="sc">:</span> num  <span class="dv">110</span> <span class="dv">110</span> <span class="dv">93</span> <span class="dv">110</span> <span class="dv">175</span> <span class="dv">105</span> <span class="dv">245</span> <span class="dv">62</span> <span class="dv">95</span> <span class="dv">123</span> ...</span>
<span id="cb95-7"><a href="data-manipulation.html#cb95-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> drat<span class="sc">:</span> num  <span class="fl">3.9</span> <span class="fl">3.9</span> <span class="fl">3.85</span> <span class="fl">3.08</span> <span class="fl">3.15</span> <span class="fl">2.76</span> <span class="fl">3.21</span> <span class="fl">3.69</span> <span class="fl">3.92</span> <span class="fl">3.92</span> ...</span>
<span id="cb95-8"><a href="data-manipulation.html#cb95-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> wt  <span class="sc">:</span> num  <span class="fl">2.62</span> <span class="fl">2.88</span> <span class="fl">2.32</span> <span class="fl">3.21</span> <span class="fl">3.44</span> ...</span>
<span id="cb95-9"><a href="data-manipulation.html#cb95-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> qsec<span class="sc">:</span> num  <span class="fl">16.5</span> <span class="dv">17</span> <span class="fl">18.6</span> <span class="fl">19.4</span> <span class="dv">17</span> ...</span>
<span id="cb95-10"><a href="data-manipulation.html#cb95-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> vs  <span class="sc">:</span> num  <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb95-11"><a href="data-manipulation.html#cb95-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> am  <span class="sc">:</span> num  <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> ...</span>
<span id="cb95-12"><a href="data-manipulation.html#cb95-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> gear<span class="sc">:</span> num  <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> ...</span>
<span id="cb95-13"><a href="data-manipulation.html#cb95-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> carb<span class="sc">:</span> num  <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">4</span> ...</span></code></pre></div>
<p>To see just the names of the data frame, use the <code>names()</code> function.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-manipulation.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb96-2"><a href="data-manipulation.html#cb96-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>  <span class="st">&quot;cyl&quot;</span>  <span class="st">&quot;disp&quot;</span> <span class="st">&quot;hp&quot;</span>   <span class="st">&quot;drat&quot;</span> <span class="st">&quot;wt&quot;</span>   <span class="st">&quot;qsec&quot;</span> <span class="st">&quot;vs&quot;</span>   <span class="st">&quot;am&quot;</span>   <span class="st">&quot;gear&quot;</span></span>
<span id="cb96-3"><a href="data-manipulation.html#cb96-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span></span></code></pre></div>
<p>To see just the dimensions of the data frame, use the <code>dim()</code> function. It returns the number of rows and columns, respectively.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-manipulation.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">dim</span>(mtcars)</span>
<span id="cb97-2"><a href="data-manipulation.html#cb97-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">32</span> <span class="dv">11</span></span></code></pre></div>
</div>
</div>
<div id="select-variables" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Select variables<a href="data-manipulation.html#select-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to select specific columns of data frames.</p>
<div id="python-18" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-18" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The period operator <code>.</code> provides access to a column in a DataFrame as a vector. This returns pandas Series. A pandas series can do everything a numpy array can do.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="data-manipulation.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars.mpg</span>
<span id="cb98-2"><a href="data-manipulation.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>     <span class="fl">21.0</span></span>
<span id="cb98-3"><a href="data-manipulation.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="fl">21.0</span></span>
<span id="cb98-4"><a href="data-manipulation.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="fl">22.8</span></span>
<span id="cb98-5"><a href="data-manipulation.html#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="fl">21.4</span></span>
<span id="cb98-6"><a href="data-manipulation.html#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="fl">18.7</span></span>
<span id="cb98-7"><a href="data-manipulation.html#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="fl">18.1</span></span>
<span id="cb98-8"><a href="data-manipulation.html#cb98-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="fl">14.3</span></span>
<span id="cb98-9"><a href="data-manipulation.html#cb98-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>     <span class="fl">24.4</span></span>
<span id="cb98-10"><a href="data-manipulation.html#cb98-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>     <span class="fl">22.8</span></span>
<span id="cb98-11"><a href="data-manipulation.html#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>     <span class="fl">19.2</span></span>
<span id="cb98-12"><a href="data-manipulation.html#cb98-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    <span class="fl">17.8</span></span>
<span id="cb98-13"><a href="data-manipulation.html#cb98-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>    <span class="fl">16.4</span></span>
<span id="cb98-14"><a href="data-manipulation.html#cb98-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>    <span class="fl">17.3</span></span>
<span id="cb98-15"><a href="data-manipulation.html#cb98-15" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>    <span class="fl">15.2</span></span>
<span id="cb98-16"><a href="data-manipulation.html#cb98-16" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>    <span class="fl">10.4</span></span>
<span id="cb98-17"><a href="data-manipulation.html#cb98-17" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>    <span class="fl">10.4</span></span>
<span id="cb98-18"><a href="data-manipulation.html#cb98-18" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>    <span class="fl">14.7</span></span>
<span id="cb98-19"><a href="data-manipulation.html#cb98-19" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>    <span class="fl">32.4</span></span>
<span id="cb98-20"><a href="data-manipulation.html#cb98-20" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>    <span class="fl">30.4</span></span>
<span id="cb98-21"><a href="data-manipulation.html#cb98-21" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>    <span class="fl">33.9</span></span>
<span id="cb98-22"><a href="data-manipulation.html#cb98-22" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>    <span class="fl">21.5</span></span>
<span id="cb98-23"><a href="data-manipulation.html#cb98-23" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>    <span class="fl">15.5</span></span>
<span id="cb98-24"><a href="data-manipulation.html#cb98-24" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>    <span class="fl">15.2</span></span>
<span id="cb98-25"><a href="data-manipulation.html#cb98-25" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>    <span class="fl">13.3</span></span>
<span id="cb98-26"><a href="data-manipulation.html#cb98-26" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>    <span class="fl">19.2</span></span>
<span id="cb98-27"><a href="data-manipulation.html#cb98-27" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>    <span class="fl">27.3</span></span>
<span id="cb98-28"><a href="data-manipulation.html#cb98-28" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>    <span class="fl">26.0</span></span>
<span id="cb98-29"><a href="data-manipulation.html#cb98-29" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>    <span class="fl">30.4</span></span>
<span id="cb98-30"><a href="data-manipulation.html#cb98-30" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>    <span class="fl">15.8</span></span>
<span id="cb98-31"><a href="data-manipulation.html#cb98-31" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>    <span class="fl">19.7</span></span>
<span id="cb98-32"><a href="data-manipulation.html#cb98-32" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>    <span class="fl">15.0</span></span>
<span id="cb98-33"><a href="data-manipulation.html#cb98-33" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>    <span class="fl">21.4</span></span>
<span id="cb98-34"><a href="data-manipulation.html#cb98-34" aria-hidden="true" tabindex="-1"></a>Name: mpg, dtype: float64</span></code></pre></div>
<p>Indexing also provides access to columns as a pandas Series. Single and double quotations both work.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="data-manipulation.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[<span class="st">&#39;mpg&#39;</span>]</span>
<span id="cb99-2"><a href="data-manipulation.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>     <span class="fl">21.0</span></span>
<span id="cb99-3"><a href="data-manipulation.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="fl">21.0</span></span>
<span id="cb99-4"><a href="data-manipulation.html#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="fl">22.8</span></span>
<span id="cb99-5"><a href="data-manipulation.html#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="fl">21.4</span></span>
<span id="cb99-6"><a href="data-manipulation.html#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="fl">18.7</span></span>
<span id="cb99-7"><a href="data-manipulation.html#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="fl">18.1</span></span>
<span id="cb99-8"><a href="data-manipulation.html#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="fl">14.3</span></span>
<span id="cb99-9"><a href="data-manipulation.html#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>     <span class="fl">24.4</span></span>
<span id="cb99-10"><a href="data-manipulation.html#cb99-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>     <span class="fl">22.8</span></span>
<span id="cb99-11"><a href="data-manipulation.html#cb99-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>     <span class="fl">19.2</span></span>
<span id="cb99-12"><a href="data-manipulation.html#cb99-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    <span class="fl">17.8</span></span>
<span id="cb99-13"><a href="data-manipulation.html#cb99-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>    <span class="fl">16.4</span></span>
<span id="cb99-14"><a href="data-manipulation.html#cb99-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>    <span class="fl">17.3</span></span>
<span id="cb99-15"><a href="data-manipulation.html#cb99-15" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>    <span class="fl">15.2</span></span>
<span id="cb99-16"><a href="data-manipulation.html#cb99-16" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>    <span class="fl">10.4</span></span>
<span id="cb99-17"><a href="data-manipulation.html#cb99-17" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>    <span class="fl">10.4</span></span>
<span id="cb99-18"><a href="data-manipulation.html#cb99-18" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>    <span class="fl">14.7</span></span>
<span id="cb99-19"><a href="data-manipulation.html#cb99-19" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>    <span class="fl">32.4</span></span>
<span id="cb99-20"><a href="data-manipulation.html#cb99-20" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>    <span class="fl">30.4</span></span>
<span id="cb99-21"><a href="data-manipulation.html#cb99-21" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>    <span class="fl">33.9</span></span>
<span id="cb99-22"><a href="data-manipulation.html#cb99-22" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>    <span class="fl">21.5</span></span>
<span id="cb99-23"><a href="data-manipulation.html#cb99-23" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>    <span class="fl">15.5</span></span>
<span id="cb99-24"><a href="data-manipulation.html#cb99-24" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>    <span class="fl">15.2</span></span>
<span id="cb99-25"><a href="data-manipulation.html#cb99-25" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>    <span class="fl">13.3</span></span>
<span id="cb99-26"><a href="data-manipulation.html#cb99-26" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>    <span class="fl">19.2</span></span>
<span id="cb99-27"><a href="data-manipulation.html#cb99-27" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>    <span class="fl">27.3</span></span>
<span id="cb99-28"><a href="data-manipulation.html#cb99-28" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>    <span class="fl">26.0</span></span>
<span id="cb99-29"><a href="data-manipulation.html#cb99-29" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>    <span class="fl">30.4</span></span>
<span id="cb99-30"><a href="data-manipulation.html#cb99-30" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>    <span class="fl">15.8</span></span>
<span id="cb99-31"><a href="data-manipulation.html#cb99-31" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>    <span class="fl">19.7</span></span>
<span id="cb99-32"><a href="data-manipulation.html#cb99-32" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>    <span class="fl">15.0</span></span>
<span id="cb99-33"><a href="data-manipulation.html#cb99-33" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>    <span class="fl">21.4</span></span>
<span id="cb99-34"><a href="data-manipulation.html#cb99-34" aria-hidden="true" tabindex="-1"></a>Name: mpg, dtype: float64</span></code></pre></div>
<p>Operations on numpy arrays are faster than operations on pandas Series. But using pandas series should be fine, in terms of performance, in many cases. This is important for large data sets on which many operations are performed. The <code>.values</code> function returns a numpy array.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb100-1"><a href="data-manipulation.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[<span class="st">&#39;mpg&#39;</span>].values</span>
<span id="cb100-2"><a href="data-manipulation.html#cb100-2" aria-hidden="true" tabindex="-1"></a>array([<span class="fl">21.</span> , <span class="fl">21.</span> , <span class="fl">22.8</span>, <span class="fl">21.4</span>, <span class="fl">18.7</span>, <span class="fl">18.1</span>, <span class="fl">14.3</span>, <span class="fl">24.4</span>, <span class="fl">22.8</span>, <span class="fl">19.2</span>, <span class="fl">17.8</span>,</span>
<span id="cb100-3"><a href="data-manipulation.html#cb100-3" aria-hidden="true" tabindex="-1"></a>       <span class="fl">16.4</span>, <span class="fl">17.3</span>, <span class="fl">15.2</span>, <span class="fl">10.4</span>, <span class="fl">10.4</span>, <span class="fl">14.7</span>, <span class="fl">32.4</span>, <span class="fl">30.4</span>, <span class="fl">33.9</span>, <span class="fl">21.5</span>, <span class="fl">15.5</span>,</span>
<span id="cb100-4"><a href="data-manipulation.html#cb100-4" aria-hidden="true" tabindex="-1"></a>       <span class="fl">15.2</span>, <span class="fl">13.3</span>, <span class="fl">19.2</span>, <span class="fl">27.3</span>, <span class="fl">26.</span> , <span class="fl">30.4</span>, <span class="fl">15.8</span>, <span class="fl">19.7</span>, <span class="fl">15.</span> , <span class="fl">21.4</span>])</span></code></pre></div>
<p>Double indexing returns a pandas DataFrame, instead of a numpy array or pandas series.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="data-manipulation.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[[<span class="st">&#39;mpg&#39;</span>]]</span>
<span id="cb101-2"><a href="data-manipulation.html#cb101-2" aria-hidden="true" tabindex="-1"></a>     mpg</span>
<span id="cb101-3"><a href="data-manipulation.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>   <span class="fl">21.0</span></span>
<span id="cb101-4"><a href="data-manipulation.html#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="fl">21.0</span></span>
<span id="cb101-5"><a href="data-manipulation.html#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">22.8</span></span>
<span id="cb101-6"><a href="data-manipulation.html#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">21.4</span></span>
<span id="cb101-7"><a href="data-manipulation.html#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="fl">18.7</span></span>
<span id="cb101-8"><a href="data-manipulation.html#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">18.1</span></span>
<span id="cb101-9"><a href="data-manipulation.html#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   <span class="fl">14.3</span></span>
<span id="cb101-10"><a href="data-manipulation.html#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   <span class="fl">24.4</span></span>
<span id="cb101-11"><a href="data-manipulation.html#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>   <span class="fl">22.8</span></span>
<span id="cb101-12"><a href="data-manipulation.html#cb101-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">19.2</span></span>
<span id="cb101-13"><a href="data-manipulation.html#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  <span class="fl">17.8</span></span>
<span id="cb101-14"><a href="data-manipulation.html#cb101-14" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>  <span class="fl">16.4</span></span>
<span id="cb101-15"><a href="data-manipulation.html#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  <span class="fl">17.3</span></span>
<span id="cb101-16"><a href="data-manipulation.html#cb101-16" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>  <span class="fl">15.2</span></span>
<span id="cb101-17"><a href="data-manipulation.html#cb101-17" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>  <span class="fl">10.4</span></span>
<span id="cb101-18"><a href="data-manipulation.html#cb101-18" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>  <span class="fl">10.4</span></span>
<span id="cb101-19"><a href="data-manipulation.html#cb101-19" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>  <span class="fl">14.7</span></span>
<span id="cb101-20"><a href="data-manipulation.html#cb101-20" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span></span>
<span id="cb101-21"><a href="data-manipulation.html#cb101-21" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span></span>
<span id="cb101-22"><a href="data-manipulation.html#cb101-22" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span></span>
<span id="cb101-23"><a href="data-manipulation.html#cb101-23" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>  <span class="fl">21.5</span></span>
<span id="cb101-24"><a href="data-manipulation.html#cb101-24" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>  <span class="fl">15.5</span></span>
<span id="cb101-25"><a href="data-manipulation.html#cb101-25" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>  <span class="fl">15.2</span></span>
<span id="cb101-26"><a href="data-manipulation.html#cb101-26" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>  <span class="fl">13.3</span></span>
<span id="cb101-27"><a href="data-manipulation.html#cb101-27" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>  <span class="fl">19.2</span></span>
<span id="cb101-28"><a href="data-manipulation.html#cb101-28" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>  <span class="fl">27.3</span></span>
<span id="cb101-29"><a href="data-manipulation.html#cb101-29" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>  <span class="fl">26.0</span></span>
<span id="cb101-30"><a href="data-manipulation.html#cb101-30" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span></span>
<span id="cb101-31"><a href="data-manipulation.html#cb101-31" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>  <span class="fl">15.8</span></span>
<span id="cb101-32"><a href="data-manipulation.html#cb101-32" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>  <span class="fl">19.7</span></span>
<span id="cb101-33"><a href="data-manipulation.html#cb101-33" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span></span>
<span id="cb101-34"><a href="data-manipulation.html#cb101-34" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>  <span class="fl">21.4</span></span></code></pre></div>
<p>The <code>head()</code> and <code>tail()</code> functions return the first 5 or last 5 values. Use the <code>n</code> argument to change the number of values. This function works on numpy arrays, pandas series and pandas DataFrames.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb102-1"><a href="data-manipulation.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># first 6 values</span></span>
<span id="cb102-2"><a href="data-manipulation.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.mpg.head()</span>
<span id="cb102-3"><a href="data-manipulation.html#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>    <span class="fl">21.0</span></span>
<span id="cb102-4"><a href="data-manipulation.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="fl">21.0</span></span>
<span id="cb102-5"><a href="data-manipulation.html#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="fl">22.8</span></span>
<span id="cb102-6"><a href="data-manipulation.html#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="fl">21.4</span></span>
<span id="cb102-7"><a href="data-manipulation.html#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="fl">18.7</span></span>
<span id="cb102-8"><a href="data-manipulation.html#cb102-8" aria-hidden="true" tabindex="-1"></a>Name: mpg, dtype: float64</span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="data-manipulation.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># last row of DataFrame</span></span>
<span id="cb103-2"><a href="data-manipulation.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.tail(n<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb103-3"><a href="data-manipulation.html#cb103-3" aria-hidden="true" tabindex="-1"></a>     mpg  cyl   disp   hp  drat    wt  qsec  vs  am  gear  carb</span>
<span id="cb103-4"><a href="data-manipulation.html#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>  <span class="fl">21.4</span>    <span class="dv">4</span>  <span class="fl">121.0</span>  <span class="dv">109</span>  <span class="fl">4.11</span>  <span class="fl">2.78</span>  <span class="fl">18.6</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span></code></pre></div>
</div>
<div id="r-18" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-18" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The dollar sign operator, <code>$</code>, provides access to a column in a data frame as a vector.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-manipulation.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars<span class="sc">$</span>mpg</span>
<span id="cb104-2"><a href="data-manipulation.html#cb104-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="fl">21.0</span> <span class="fl">21.0</span> <span class="fl">22.8</span> <span class="fl">21.4</span> <span class="fl">18.7</span> <span class="fl">18.1</span> <span class="fl">14.3</span> <span class="fl">24.4</span> <span class="fl">22.8</span> <span class="fl">19.2</span> <span class="fl">17.8</span> <span class="fl">16.4</span> <span class="fl">17.3</span> <span class="fl">15.2</span> <span class="fl">10.4</span></span>
<span id="cb104-3"><a href="data-manipulation.html#cb104-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">16</span>] <span class="fl">10.4</span> <span class="fl">14.7</span> <span class="fl">32.4</span> <span class="fl">30.4</span> <span class="fl">33.9</span> <span class="fl">21.5</span> <span class="fl">15.5</span> <span class="fl">15.2</span> <span class="fl">13.3</span> <span class="fl">19.2</span> <span class="fl">27.3</span> <span class="fl">26.0</span> <span class="fl">30.4</span> <span class="fl">15.8</span> <span class="fl">19.7</span></span>
<span id="cb104-4"><a href="data-manipulation.html#cb104-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">31</span>] <span class="fl">15.0</span> <span class="fl">21.4</span></span></code></pre></div>
<p>Double-indexing brackets also provide access to columns as a vector.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-manipulation.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[[<span class="st">&quot;mpg&quot;</span>]]</span>
<span id="cb105-2"><a href="data-manipulation.html#cb105-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="fl">21.0</span> <span class="fl">21.0</span> <span class="fl">22.8</span> <span class="fl">21.4</span> <span class="fl">18.7</span> <span class="fl">18.1</span> <span class="fl">14.3</span> <span class="fl">24.4</span> <span class="fl">22.8</span> <span class="fl">19.2</span> <span class="fl">17.8</span> <span class="fl">16.4</span> <span class="fl">17.3</span> <span class="fl">15.2</span> <span class="fl">10.4</span></span>
<span id="cb105-3"><a href="data-manipulation.html#cb105-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">16</span>] <span class="fl">10.4</span> <span class="fl">14.7</span> <span class="fl">32.4</span> <span class="fl">30.4</span> <span class="fl">33.9</span> <span class="fl">21.5</span> <span class="fl">15.5</span> <span class="fl">15.2</span> <span class="fl">13.3</span> <span class="fl">19.2</span> <span class="fl">27.3</span> <span class="fl">26.0</span> <span class="fl">30.4</span> <span class="fl">15.8</span> <span class="fl">19.7</span></span>
<span id="cb105-4"><a href="data-manipulation.html#cb105-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">31</span>] <span class="fl">15.0</span> <span class="fl">21.4</span></span></code></pre></div>
<p>Single-indexing brackets work as well, but they return a data frame instead of a vector (if used with a data frame).</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-manipulation.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[<span class="st">&quot;mpg&quot;</span>]</span>
<span id="cb106-2"><a href="data-manipulation.html#cb106-2" aria-hidden="true" tabindex="-1"></a>    mpg</span>
<span id="cb106-3"><a href="data-manipulation.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="fl">21.0</span></span>
<span id="cb106-4"><a href="data-manipulation.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="fl">21.0</span></span>
<span id="cb106-5"><a href="data-manipulation.html#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="fl">22.8</span></span>
<span id="cb106-6"><a href="data-manipulation.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="fl">21.4</span></span>
<span id="cb106-7"><a href="data-manipulation.html#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="fl">18.7</span></span>
<span id="cb106-8"><a href="data-manipulation.html#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="fl">18.1</span></span>
<span id="cb106-9"><a href="data-manipulation.html#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="fl">14.3</span></span>
<span id="cb106-10"><a href="data-manipulation.html#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="fl">24.4</span></span>
<span id="cb106-11"><a href="data-manipulation.html#cb106-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="fl">22.8</span></span>
<span id="cb106-12"><a href="data-manipulation.html#cb106-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="fl">19.2</span></span>
<span id="cb106-13"><a href="data-manipulation.html#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="fl">17.8</span></span>
<span id="cb106-14"><a href="data-manipulation.html#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="fl">16.4</span></span>
<span id="cb106-15"><a href="data-manipulation.html#cb106-15" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="fl">17.3</span></span>
<span id="cb106-16"><a href="data-manipulation.html#cb106-16" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="fl">15.2</span></span>
<span id="cb106-17"><a href="data-manipulation.html#cb106-17" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="fl">10.4</span></span>
<span id="cb106-18"><a href="data-manipulation.html#cb106-18" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span> <span class="fl">10.4</span></span>
<span id="cb106-19"><a href="data-manipulation.html#cb106-19" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span> <span class="fl">14.7</span></span>
<span id="cb106-20"><a href="data-manipulation.html#cb106-20" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span></span>
<span id="cb106-21"><a href="data-manipulation.html#cb106-21" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span></span>
<span id="cb106-22"><a href="data-manipulation.html#cb106-22" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span></span>
<span id="cb106-23"><a href="data-manipulation.html#cb106-23" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> <span class="fl">21.5</span></span>
<span id="cb106-24"><a href="data-manipulation.html#cb106-24" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span> <span class="fl">15.5</span></span>
<span id="cb106-25"><a href="data-manipulation.html#cb106-25" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span> <span class="fl">15.2</span></span>
<span id="cb106-26"><a href="data-manipulation.html#cb106-26" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span> <span class="fl">13.3</span></span>
<span id="cb106-27"><a href="data-manipulation.html#cb106-27" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span> <span class="fl">19.2</span></span>
<span id="cb106-28"><a href="data-manipulation.html#cb106-28" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span> <span class="fl">27.3</span></span>
<span id="cb106-29"><a href="data-manipulation.html#cb106-29" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> <span class="fl">26.0</span></span>
<span id="cb106-30"><a href="data-manipulation.html#cb106-30" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span></span>
<span id="cb106-31"><a href="data-manipulation.html#cb106-31" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> <span class="fl">15.8</span></span>
<span id="cb106-32"><a href="data-manipulation.html#cb106-32" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> <span class="fl">19.7</span></span>
<span id="cb106-33"><a href="data-manipulation.html#cb106-33" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span> <span class="fl">15.0</span></span>
<span id="cb106-34"><a href="data-manipulation.html#cb106-34" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span> <span class="fl">21.4</span></span></code></pre></div>
<p>Single-indexing brackets also allow selection of rows when used with a comma. The syntax is <code>rows, columns</code></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-manipulation.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># first three rows</span></span>
<span id="cb107-2"><a href="data-manipulation.html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">&quot;mpg&quot;</span>]</span>
<span id="cb107-3"><a href="data-manipulation.html#cb107-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">21.0</span> <span class="fl">21.0</span> <span class="fl">22.8</span></span></code></pre></div>
<p>Finally single-indexing brackets allow us to select multiple columns. Request columns either by name or position using a vector.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-manipulation.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[<span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl&quot;</span>)] </span>
<span id="cb108-2"><a href="data-manipulation.html#cb108-2" aria-hidden="true" tabindex="-1"></a>    mpg cyl</span>
<span id="cb108-3"><a href="data-manipulation.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="fl">21.0</span>   <span class="dv">6</span></span>
<span id="cb108-4"><a href="data-manipulation.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="fl">21.0</span>   <span class="dv">6</span></span>
<span id="cb108-5"><a href="data-manipulation.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="fl">22.8</span>   <span class="dv">4</span></span>
<span id="cb108-6"><a href="data-manipulation.html#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="fl">21.4</span>   <span class="dv">6</span></span>
<span id="cb108-7"><a href="data-manipulation.html#cb108-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="fl">18.7</span>   <span class="dv">8</span></span>
<span id="cb108-8"><a href="data-manipulation.html#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="fl">18.1</span>   <span class="dv">6</span></span>
<span id="cb108-9"><a href="data-manipulation.html#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="fl">14.3</span>   <span class="dv">8</span></span>
<span id="cb108-10"><a href="data-manipulation.html#cb108-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="fl">24.4</span>   <span class="dv">4</span></span>
<span id="cb108-11"><a href="data-manipulation.html#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="fl">22.8</span>   <span class="dv">4</span></span>
<span id="cb108-12"><a href="data-manipulation.html#cb108-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="fl">19.2</span>   <span class="dv">6</span></span>
<span id="cb108-13"><a href="data-manipulation.html#cb108-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="fl">17.8</span>   <span class="dv">6</span></span>
<span id="cb108-14"><a href="data-manipulation.html#cb108-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="fl">16.4</span>   <span class="dv">8</span></span>
<span id="cb108-15"><a href="data-manipulation.html#cb108-15" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="fl">17.3</span>   <span class="dv">8</span></span>
<span id="cb108-16"><a href="data-manipulation.html#cb108-16" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="fl">15.2</span>   <span class="dv">8</span></span>
<span id="cb108-17"><a href="data-manipulation.html#cb108-17" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="fl">10.4</span>   <span class="dv">8</span></span>
<span id="cb108-18"><a href="data-manipulation.html#cb108-18" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span> <span class="fl">10.4</span>   <span class="dv">8</span></span>
<span id="cb108-19"><a href="data-manipulation.html#cb108-19" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span> <span class="fl">14.7</span>   <span class="dv">8</span></span>
<span id="cb108-20"><a href="data-manipulation.html#cb108-20" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>   <span class="dv">4</span></span>
<span id="cb108-21"><a href="data-manipulation.html#cb108-21" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span>   <span class="dv">4</span></span>
<span id="cb108-22"><a href="data-manipulation.html#cb108-22" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span>   <span class="dv">4</span></span>
<span id="cb108-23"><a href="data-manipulation.html#cb108-23" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> <span class="fl">21.5</span>   <span class="dv">4</span></span>
<span id="cb108-24"><a href="data-manipulation.html#cb108-24" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span> <span class="fl">15.5</span>   <span class="dv">8</span></span>
<span id="cb108-25"><a href="data-manipulation.html#cb108-25" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span> <span class="fl">15.2</span>   <span class="dv">8</span></span>
<span id="cb108-26"><a href="data-manipulation.html#cb108-26" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span> <span class="fl">13.3</span>   <span class="dv">8</span></span>
<span id="cb108-27"><a href="data-manipulation.html#cb108-27" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span> <span class="fl">19.2</span>   <span class="dv">8</span></span>
<span id="cb108-28"><a href="data-manipulation.html#cb108-28" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span> <span class="fl">27.3</span>   <span class="dv">4</span></span>
<span id="cb108-29"><a href="data-manipulation.html#cb108-29" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> <span class="fl">26.0</span>   <span class="dv">4</span></span>
<span id="cb108-30"><a href="data-manipulation.html#cb108-30" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span>   <span class="dv">4</span></span>
<span id="cb108-31"><a href="data-manipulation.html#cb108-31" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> <span class="fl">15.8</span>   <span class="dv">8</span></span>
<span id="cb108-32"><a href="data-manipulation.html#cb108-32" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> <span class="fl">19.7</span>   <span class="dv">6</span></span>
<span id="cb108-33"><a href="data-manipulation.html#cb108-33" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span> <span class="fl">15.0</span>   <span class="dv">8</span></span>
<span id="cb108-34"><a href="data-manipulation.html#cb108-34" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span> <span class="fl">21.4</span>   <span class="dv">4</span></span>
<span id="cb108-35"><a href="data-manipulation.html#cb108-35" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># same as mtcars[1:2] </span></span></code></pre></div>
<p>The <code>head()</code> and <code>tail()</code> functions return the first 6 or last 6 values. Use the <code>n</code> argument to change the number of values. They work with vectors or data frames.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-manipulation.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># first 6 values</span></span>
<span id="cb109-2"><a href="data-manipulation.html#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">head</span>(mtcars<span class="sc">$</span>mpg)</span>
<span id="cb109-3"><a href="data-manipulation.html#cb109-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">21.0</span> <span class="fl">21.0</span> <span class="fl">22.8</span> <span class="fl">21.4</span> <span class="fl">18.7</span> <span class="fl">18.1</span></span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-manipulation.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># last row of data frame</span></span>
<span id="cb110-2"><a href="data-manipulation.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">tail</span>(mtcars, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb110-3"><a href="data-manipulation.html#cb110-3" aria-hidden="true" tabindex="-1"></a>    mpg cyl disp  hp drat   wt qsec vs am gear carb</span>
<span id="cb110-4"><a href="data-manipulation.html#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span> <span class="fl">21.4</span>   <span class="dv">4</span>  <span class="dv">121</span> <span class="dv">109</span> <span class="fl">4.11</span> <span class="fl">2.78</span> <span class="fl">18.6</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span></code></pre></div>
</div>
</div>
<div id="filtersubset-variables" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Filter/Subset variables<a href="data-manipulation.html#filtersubset-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to view rows of a data frame that meet certain conditions.</p>
<div id="python-19" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-19" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can filter rows of a DataFrame based on a condition to subset on. This returns a DataFrame.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="data-manipulation.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[mtcars[<span class="st">&quot;mpg&quot;</span>] <span class="op">&gt;</span> <span class="dv">30</span>]</span>
<span id="cb111-2"><a href="data-manipulation.html#cb111-2" aria-hidden="true" tabindex="-1"></a>     mpg  cyl  disp   hp  drat     wt   qsec  vs  am  gear  carb</span>
<span id="cb111-3"><a href="data-manipulation.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span>    <span class="dv">4</span>  <span class="fl">78.7</span>   <span class="dv">66</span>  <span class="fl">4.08</span>  <span class="fl">2.200</span>  <span class="fl">19.47</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb111-4"><a href="data-manipulation.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>    <span class="dv">4</span>  <span class="fl">75.7</span>   <span class="dv">52</span>  <span class="fl">4.93</span>  <span class="fl">1.615</span>  <span class="fl">18.52</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb111-5"><a href="data-manipulation.html#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>    <span class="dv">4</span>  <span class="fl">71.1</span>   <span class="dv">65</span>  <span class="fl">4.22</span>  <span class="fl">1.835</span>  <span class="fl">19.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb111-6"><a href="data-manipulation.html#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span>    <span class="dv">4</span>  <span class="fl">95.1</span>  <span class="dv">113</span>  <span class="fl">3.77</span>  <span class="fl">1.513</span>  <span class="fl">16.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">2</span></span></code></pre></div>
<p>To select particular columns with the condition, subset the data frame using a list of desired columns as indices.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="data-manipulation.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[mtcars[<span class="st">&quot;mpg&quot;</span>] <span class="op">&gt;</span> <span class="dv">30</span>][[<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl&quot;</span>]]</span>
<span id="cb112-2"><a href="data-manipulation.html#cb112-2" aria-hidden="true" tabindex="-1"></a>     mpg  cyl</span>
<span id="cb112-3"><a href="data-manipulation.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span>    <span class="dv">4</span></span>
<span id="cb112-4"><a href="data-manipulation.html#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>    <span class="dv">4</span></span>
<span id="cb112-5"><a href="data-manipulation.html#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>    <span class="dv">4</span></span>
<span id="cb112-6"><a href="data-manipulation.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span>    <span class="dv">4</span></span></code></pre></div>
<p>You can also filter with multiple row conditions.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="data-manipulation.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[mtcars[<span class="st">&quot;mpg&quot;</span>] <span class="op">&gt;</span> <span class="dv">30</span>][mtcars[<span class="st">&quot;hp&quot;</span>] <span class="op">&lt;</span> <span class="dv">66</span>][[<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;cyl&quot;</span>]]</span>
<span id="cb113-2"><a href="data-manipulation.html#cb113-2" aria-hidden="true" tabindex="-1"></a>     mpg  cyl</span>
<span id="cb113-3"><a href="data-manipulation.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>    <span class="dv">4</span></span>
<span id="cb113-4"><a href="data-manipulation.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>    <span class="dv">4</span></span>
<span id="cb113-5"><a href="data-manipulation.html#cb113-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-6"><a href="data-manipulation.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>string<span class="op">&gt;</span>:<span class="dv">1</span>: <span class="pp">UserWarning</span>: Boolean Series key will be reindexed to match DataFrame index.</span></code></pre></div>
<p>Using the <code>.values</code> function returns a NumPy array, which can be used for vector operations (many functions require some sort of vector, like a numpy array of list, rather than a DataFrame) or faster performance.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="data-manipulation.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[mtcars[<span class="st">&quot;mpg&quot;</span>] <span class="op">&gt;</span> <span class="dv">30</span>].values</span>
<span id="cb114-2"><a href="data-manipulation.html#cb114-2" aria-hidden="true" tabindex="-1"></a>array([[ <span class="fl">32.4</span>  ,   <span class="fl">4.</span>   ,  <span class="fl">78.7</span>  ,  <span class="fl">66.</span>   ,   <span class="fl">4.08</span> ,   <span class="fl">2.2</span>  ,  <span class="fl">19.47</span> ,</span>
<span id="cb114-3"><a href="data-manipulation.html#cb114-3" aria-hidden="true" tabindex="-1"></a>          <span class="fl">1.</span>   ,   <span class="fl">1.</span>   ,   <span class="fl">4.</span>   ,   <span class="fl">1.</span>   ],</span>
<span id="cb114-4"><a href="data-manipulation.html#cb114-4" aria-hidden="true" tabindex="-1"></a>       [ <span class="fl">30.4</span>  ,   <span class="fl">4.</span>   ,  <span class="fl">75.7</span>  ,  <span class="fl">52.</span>   ,   <span class="fl">4.93</span> ,   <span class="fl">1.615</span>,  <span class="fl">18.52</span> ,</span>
<span id="cb114-5"><a href="data-manipulation.html#cb114-5" aria-hidden="true" tabindex="-1"></a>          <span class="fl">1.</span>   ,   <span class="fl">1.</span>   ,   <span class="fl">4.</span>   ,   <span class="fl">2.</span>   ],</span>
<span id="cb114-6"><a href="data-manipulation.html#cb114-6" aria-hidden="true" tabindex="-1"></a>       [ <span class="fl">33.9</span>  ,   <span class="fl">4.</span>   ,  <span class="fl">71.1</span>  ,  <span class="fl">65.</span>   ,   <span class="fl">4.22</span> ,   <span class="fl">1.835</span>,  <span class="fl">19.9</span>  ,</span>
<span id="cb114-7"><a href="data-manipulation.html#cb114-7" aria-hidden="true" tabindex="-1"></a>          <span class="fl">1.</span>   ,   <span class="fl">1.</span>   ,   <span class="fl">4.</span>   ,   <span class="fl">1.</span>   ],</span>
<span id="cb114-8"><a href="data-manipulation.html#cb114-8" aria-hidden="true" tabindex="-1"></a>       [ <span class="fl">30.4</span>  ,   <span class="fl">4.</span>   ,  <span class="fl">95.1</span>  , <span class="fl">113.</span>   ,   <span class="fl">3.77</span> ,   <span class="fl">1.513</span>,  <span class="fl">16.9</span>  ,</span>
<span id="cb114-9"><a href="data-manipulation.html#cb114-9" aria-hidden="true" tabindex="-1"></a>          <span class="fl">1.</span>   ,   <span class="fl">1.</span>   ,   <span class="fl">5.</span>   ,   <span class="fl">2.</span>   ]])</span></code></pre></div>
</div>
<div id="r-19" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-19" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In base R, we can use subsetting brackets or the <code>subset()</code> function to select rows based on some condition. Below we demonstrate both approaches to view only those rows with “mpg” greater than 30. First we begin with subsetting brackets.</p>
<p>The subsetting brackets take three arguments:</p>
<ol style="list-style-type: decimal">
<li><code>i</code>: the condition to subset on.</li>
<li><code>j</code>: the columns to show. If none specified, all columns are returned</li>
<li><code>drop</code>: an optional logical argument (TRUE/FALSE) to determine whether or not to coerce the output to the lowest possible dimension. The default is TRUE.</li>
</ol>
<p>We rarely type the first two argument names, <code>i</code> and <code>j</code>, when using subsetting brackets.</p>
<p>This example returns only the rows with mpg &gt; 30 and all columns. Notice we need to preface mpg with <code>mtcars$</code> to tell R where to find the “mpg” column and that we need to provide a comma after the condition.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-manipulation.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, ]</span>
<span id="cb115-2"><a href="data-manipulation.html#cb115-2" aria-hidden="true" tabindex="-1"></a>    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb115-3"><a href="data-manipulation.html#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>   <span class="dv">4</span> <span class="fl">78.7</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">2.200</span> <span class="fl">19.47</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb115-4"><a href="data-manipulation.html#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">75.7</span>  <span class="dv">52</span> <span class="fl">4.93</span> <span class="fl">1.615</span> <span class="fl">18.52</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span>
<span id="cb115-5"><a href="data-manipulation.html#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span>   <span class="dv">4</span> <span class="fl">71.1</span>  <span class="dv">65</span> <span class="fl">4.22</span> <span class="fl">1.835</span> <span class="fl">19.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb115-6"><a href="data-manipulation.html#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">95.1</span> <span class="dv">113</span> <span class="fl">3.77</span> <span class="fl">1.513</span> <span class="fl">16.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span></code></pre></div>
<p>We can select what columns to see in the second argument as a vector. Notice we only need to specify the column names as a character vector. We can also use numbers corresponding to the column number as well as conditional statements.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-manipulation.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;wt&quot;</span>, <span class="st">&quot;gear&quot;</span>)]</span>
<span id="cb116-2"><a href="data-manipulation.html#cb116-2" aria-hidden="true" tabindex="-1"></a>    mpg    wt gear</span>
<span id="cb116-3"><a href="data-manipulation.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span> <span class="fl">2.200</span>    <span class="dv">4</span></span>
<span id="cb116-4"><a href="data-manipulation.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span> <span class="fl">1.615</span>    <span class="dv">4</span></span>
<span id="cb116-5"><a href="data-manipulation.html#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span> <span class="fl">1.835</span>    <span class="dv">4</span></span>
<span id="cb116-6"><a href="data-manipulation.html#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span> <span class="fl">1.513</span>    <span class="dv">5</span></span></code></pre></div>
<p>Show first three columns.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="data-manipulation.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb117-2"><a href="data-manipulation.html#cb117-2" aria-hidden="true" tabindex="-1"></a>    mpg cyl disp</span>
<span id="cb117-3"><a href="data-manipulation.html#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>   <span class="dv">4</span> <span class="fl">78.7</span></span>
<span id="cb117-4"><a href="data-manipulation.html#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">75.7</span></span>
<span id="cb117-5"><a href="data-manipulation.html#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span>   <span class="dv">4</span> <span class="fl">71.1</span></span>
<span id="cb117-6"><a href="data-manipulation.html#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">95.1</span></span></code></pre></div>
<p>Show columns with names consisting of only two characters. The <code>nchar()</code> function counts the number of characters in a string. The expression <code>nchar(names(mtcars)) == 2</code> returns a vector of TRUE/FALSE values where TRUE indicates the column name is only two characters in length.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="data-manipulation.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="fu">nchar</span>(<span class="fu">names</span>(mtcars)) <span class="sc">==</span> <span class="dv">2</span>]</span>
<span id="cb118-2"><a href="data-manipulation.html#cb118-2" aria-hidden="true" tabindex="-1"></a>    hp    wt vs am</span>
<span id="cb118-3"><a href="data-manipulation.html#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="dv">66</span> <span class="fl">2.200</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb118-4"><a href="data-manipulation.html#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="dv">52</span> <span class="fl">1.615</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb118-5"><a href="data-manipulation.html#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>  <span class="dv">65</span> <span class="fl">1.835</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb118-6"><a href="data-manipulation.html#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="dv">113</span> <span class="fl">1.513</span>  <span class="dv">1</span>  <span class="dv">1</span></span></code></pre></div>
<p>Notice when we specify only one column, the brackets return a vector.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-manipulation.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="st">&quot;mpg&quot;</span>]</span>
<span id="cb119-2"><a href="data-manipulation.html#cb119-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">32.4</span> <span class="fl">30.4</span> <span class="fl">33.9</span> <span class="fl">30.4</span></span></code></pre></div>
<p>To get a data frame, set the <code>drop</code> argument to FALSE.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-manipulation.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[mtcars<span class="sc">$</span>mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="st">&quot;mpg&quot;</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb120-2"><a href="data-manipulation.html#cb120-2" aria-hidden="true" tabindex="-1"></a>    mpg</span>
<span id="cb120-3"><a href="data-manipulation.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span></span>
<span id="cb120-4"><a href="data-manipulation.html#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span></span>
<span id="cb120-5"><a href="data-manipulation.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span></span>
<span id="cb120-6"><a href="data-manipulation.html#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span></span></code></pre></div>
<p>The <code>subset()</code> function allows us to refer to column names without using the <code>$</code> extractor function or quoting column names. It also has a drop argument but its default is FALSE. It has four arguments:</p>
<ol style="list-style-type: decimal">
<li><code>x</code>: the data frame to subset.</li>
<li><code>subset</code>: the condition to subset on.</li>
<li><code>select</code>: the columns to select.</li>
<li><code>drop</code>: an optional logical argument (TRUE/FALSE) to determine whether or not to coerce the output to the lowest possible dimension. The default is FALSE.</li>
</ol>
<p>We rarely type the first three argument names, <code>x</code>, <code>subset</code> and <code>select</code>, when using <code>subset()</code>.</p>
<p>Below we replicate the previous examples using <code>subset()</code>.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-manipulation.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and all columns</span></span>
<span id="cb121-2"><a href="data-manipulation.html#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>)</span>
<span id="cb121-3"><a href="data-manipulation.html#cb121-3" aria-hidden="true" tabindex="-1"></a>    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb121-4"><a href="data-manipulation.html#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>   <span class="dv">4</span> <span class="fl">78.7</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">2.200</span> <span class="fl">19.47</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb121-5"><a href="data-manipulation.html#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">75.7</span>  <span class="dv">52</span> <span class="fl">4.93</span> <span class="fl">1.615</span> <span class="fl">18.52</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span>
<span id="cb121-6"><a href="data-manipulation.html#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span>   <span class="dv">4</span> <span class="fl">71.1</span>  <span class="dv">65</span> <span class="fl">4.22</span> <span class="fl">1.835</span> <span class="fl">19.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb121-7"><a href="data-manipulation.html#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">95.1</span> <span class="dv">113</span> <span class="fl">3.77</span> <span class="fl">1.513</span> <span class="fl">16.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-manipulation.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and the mpg, wt, and gear columns</span></span>
<span id="cb122-2"><a href="data-manipulation.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="fu">c</span>(mpg, wt, gear))</span>
<span id="cb122-3"><a href="data-manipulation.html#cb122-3" aria-hidden="true" tabindex="-1"></a>    mpg    wt gear</span>
<span id="cb122-4"><a href="data-manipulation.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span> <span class="fl">2.200</span>    <span class="dv">4</span></span>
<span id="cb122-5"><a href="data-manipulation.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span> <span class="fl">1.615</span>    <span class="dv">4</span></span>
<span id="cb122-6"><a href="data-manipulation.html#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span> <span class="fl">1.835</span>    <span class="dv">4</span></span>
<span id="cb122-7"><a href="data-manipulation.html#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span> <span class="fl">1.513</span>    <span class="dv">5</span></span></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-manipulation.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and the first three columns</span></span>
<span id="cb123-2"><a href="data-manipulation.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb123-3"><a href="data-manipulation.html#cb123-3" aria-hidden="true" tabindex="-1"></a>    mpg cyl disp</span>
<span id="cb123-4"><a href="data-manipulation.html#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>   <span class="dv">4</span> <span class="fl">78.7</span></span>
<span id="cb123-5"><a href="data-manipulation.html#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">75.7</span></span>
<span id="cb123-6"><a href="data-manipulation.html#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span>   <span class="dv">4</span> <span class="fl">71.1</span></span>
<span id="cb123-7"><a href="data-manipulation.html#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span>   <span class="dv">4</span> <span class="fl">95.1</span></span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-manipulation.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and columns consisting of two characters</span></span>
<span id="cb124-2"><a href="data-manipulation.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="fu">nchar</span>(<span class="fu">names</span>(mtcars)) <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb124-3"><a href="data-manipulation.html#cb124-3" aria-hidden="true" tabindex="-1"></a>    hp    wt vs am</span>
<span id="cb124-4"><a href="data-manipulation.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="dv">66</span> <span class="fl">2.200</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb124-5"><a href="data-manipulation.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="dv">52</span> <span class="fl">1.615</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb124-6"><a href="data-manipulation.html#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>  <span class="dv">65</span> <span class="fl">1.835</span>  <span class="dv">1</span>  <span class="dv">1</span></span>
<span id="cb124-7"><a href="data-manipulation.html#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="dv">113</span> <span class="fl">1.513</span>  <span class="dv">1</span>  <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-manipulation.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and mpg column, as a vector</span></span>
<span id="cb125-2"><a href="data-manipulation.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>, mpg, <span class="at">drop =</span> <span class="cn">TRUE</span>)</span>
<span id="cb125-3"><a href="data-manipulation.html#cb125-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">32.4</span> <span class="fl">30.4</span> <span class="fl">33.9</span> <span class="fl">30.4</span></span></code></pre></div>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-manipulation.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># rows where mpg &gt; 30 and mpg column, as a data frame</span></span>
<span id="cb126-2"><a href="data-manipulation.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">subset</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">30</span>, mpg)</span>
<span id="cb126-3"><a href="data-manipulation.html#cb126-3" aria-hidden="true" tabindex="-1"></a>    mpg</span>
<span id="cb126-4"><a href="data-manipulation.html#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span></span>
<span id="cb126-5"><a href="data-manipulation.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="fl">30.4</span></span>
<span id="cb126-6"><a href="data-manipulation.html#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="fl">33.9</span></span>
<span id="cb126-7"><a href="data-manipulation.html#cb126-7" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="fl">30.4</span></span></code></pre></div>
<p>Another difference between subsetting brackets and the <code>subset()</code> function is how they handle missing values. Subsetting brackets return missing values while <code>subset()</code> does not. We demonstrate with a toy data frame. Notice the “x” column has a missing value.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-manipulation.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dframe <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">5</span>), </span>
<span id="cb127-2"><a href="data-manipulation.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                      <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">21</span>, <span class="dv">34</span>))</span>
<span id="cb127-3"><a href="data-manipulation.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dframe</span>
<span id="cb127-4"><a href="data-manipulation.html#cb127-4" aria-hidden="true" tabindex="-1"></a>   x  y</span>
<span id="cb127-5"><a href="data-manipulation.html#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">1</span> <span class="dv">12</span></span>
<span id="cb127-6"><a href="data-manipulation.html#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="cn">NA</span> <span class="dv">21</span></span>
<span id="cb127-7"><a href="data-manipulation.html#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">5</span> <span class="dv">34</span></span></code></pre></div>
<p>When we condition on x &lt; 3, the subsetting bracket approach returns a row with NA values.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data-manipulation.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dframe[dframe<span class="sc">$</span>x <span class="sc">&lt;</span> <span class="dv">3</span>,]</span>
<span id="cb128-2"><a href="data-manipulation.html#cb128-2" aria-hidden="true" tabindex="-1"></a>    x  y</span>
<span id="cb128-3"><a href="data-manipulation.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="dv">1</span> <span class="dv">12</span></span>
<span id="cb128-4"><a href="data-manipulation.html#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span></span></code></pre></div>
<p>The <code>subset()</code> approach ignores the missing value.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-manipulation.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">subset</span>(dframe, x <span class="sc">&lt;</span> <span class="dv">3</span>)</span>
<span id="cb129-2"><a href="data-manipulation.html#cb129-2" aria-hidden="true" tabindex="-1"></a>  x  y</span>
<span id="cb129-3"><a href="data-manipulation.html#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1</span> <span class="dv">12</span></span></code></pre></div>
<p>To replicate the <code>subset()</code> result with the subsetting brackets, we need to include an additional condition to only show rows where x is NOT missing. We can do that with the <code>is.na()</code> function. The <code>is.na()</code> function returns TRUE if a value is missing and FALSE otherwise. If we preface with <code>!</code>, we get TRUE if a value is NOT missing and FALSE otherwise.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data-manipulation.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dframe[dframe<span class="sc">$</span>x <span class="sc">&lt;</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(dframe<span class="sc">$</span>x),]</span>
<span id="cb130-2"><a href="data-manipulation.html#cb130-2" aria-hidden="true" tabindex="-1"></a>  x  y</span>
<span id="cb130-3"><a href="data-manipulation.html#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">1</span> <span class="dv">12</span></span></code></pre></div>
<p>See also the <code>filter()</code> function in the <a href="https://dplyr.tidyverse.org/"><strong>dplyr</strong></a> package and the enhanced subsetting brackets in the <a href="https://rdatatable.gitlab.io/data.table/"><strong>data.table</strong></a> package.</p>
</div>
</div>
<div id="rename-variables" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Rename variables<a href="data-manipulation.html#rename-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to rename variables or “column headers”.</p>
<div id="python-20" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-20" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Column names can be changed using the function <code>.rename()</code>. Below, we change the column names “cyl” and “wt” to “cylinder” and “WT”, respectively.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb131-1"><a href="data-manipulation.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars.rename(columns<span class="op">=</span>{<span class="st">&quot;cyl&quot;</span>:<span class="st">&quot;cylinder&quot;</span>, <span class="st">&quot;wt&quot;</span>:<span class="st">&quot;WT&quot;</span>})</span>
<span id="cb131-2"><a href="data-manipulation.html#cb131-2" aria-hidden="true" tabindex="-1"></a>     mpg  cylinder   disp   hp  drat     WT   qsec  vs  am  gear  carb</span>
<span id="cb131-3"><a href="data-manipulation.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>   <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="fl">160.0</span>  <span class="dv">110</span>  <span class="fl">3.90</span>  <span class="fl">2.620</span>  <span class="fl">16.46</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb131-4"><a href="data-manipulation.html#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="fl">160.0</span>  <span class="dv">110</span>  <span class="fl">3.90</span>  <span class="fl">2.875</span>  <span class="fl">17.02</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb131-5"><a href="data-manipulation.html#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">22.8</span>         <span class="dv">4</span>  <span class="fl">108.0</span>   <span class="dv">93</span>  <span class="fl">3.85</span>  <span class="fl">2.320</span>  <span class="fl">18.61</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb131-6"><a href="data-manipulation.html#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">21.4</span>         <span class="dv">6</span>  <span class="fl">258.0</span>  <span class="dv">110</span>  <span class="fl">3.08</span>  <span class="fl">3.215</span>  <span class="fl">19.44</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb131-7"><a href="data-manipulation.html#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="fl">18.7</span>         <span class="dv">8</span>  <span class="fl">360.0</span>  <span class="dv">175</span>  <span class="fl">3.15</span>  <span class="fl">3.440</span>  <span class="fl">17.02</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb131-8"><a href="data-manipulation.html#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">18.1</span>         <span class="dv">6</span>  <span class="fl">225.0</span>  <span class="dv">105</span>  <span class="fl">2.76</span>  <span class="fl">3.460</span>  <span class="fl">20.22</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb131-9"><a href="data-manipulation.html#cb131-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   <span class="fl">14.3</span>         <span class="dv">8</span>  <span class="fl">360.0</span>  <span class="dv">245</span>  <span class="fl">3.21</span>  <span class="fl">3.570</span>  <span class="fl">15.84</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb131-10"><a href="data-manipulation.html#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   <span class="fl">24.4</span>         <span class="dv">4</span>  <span class="fl">146.7</span>   <span class="dv">62</span>  <span class="fl">3.69</span>  <span class="fl">3.190</span>  <span class="fl">20.00</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb131-11"><a href="data-manipulation.html#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>   <span class="fl">22.8</span>         <span class="dv">4</span>  <span class="fl">140.8</span>   <span class="dv">95</span>  <span class="fl">3.92</span>  <span class="fl">3.150</span>  <span class="fl">22.90</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb131-12"><a href="data-manipulation.html#cb131-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">19.2</span>         <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>  <span class="fl">3.92</span>  <span class="fl">3.440</span>  <span class="fl">18.30</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb131-13"><a href="data-manipulation.html#cb131-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  <span class="fl">17.8</span>         <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>  <span class="fl">3.92</span>  <span class="fl">3.440</span>  <span class="fl">18.90</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb131-14"><a href="data-manipulation.html#cb131-14" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>  <span class="fl">16.4</span>         <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>  <span class="fl">3.07</span>  <span class="fl">4.070</span>  <span class="fl">17.40</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb131-15"><a href="data-manipulation.html#cb131-15" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  <span class="fl">17.3</span>         <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>  <span class="fl">3.07</span>  <span class="fl">3.730</span>  <span class="fl">17.60</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb131-16"><a href="data-manipulation.html#cb131-16" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>  <span class="fl">15.2</span>         <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>  <span class="fl">3.07</span>  <span class="fl">3.780</span>  <span class="fl">18.00</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb131-17"><a href="data-manipulation.html#cb131-17" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>  <span class="fl">10.4</span>         <span class="dv">8</span>  <span class="fl">472.0</span>  <span class="dv">205</span>  <span class="fl">2.93</span>  <span class="fl">5.250</span>  <span class="fl">17.98</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb131-18"><a href="data-manipulation.html#cb131-18" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>  <span class="fl">10.4</span>         <span class="dv">8</span>  <span class="fl">460.0</span>  <span class="dv">215</span>  <span class="fl">3.00</span>  <span class="fl">5.424</span>  <span class="fl">17.82</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb131-19"><a href="data-manipulation.html#cb131-19" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>  <span class="fl">14.7</span>         <span class="dv">8</span>  <span class="fl">440.0</span>  <span class="dv">230</span>  <span class="fl">3.23</span>  <span class="fl">5.345</span>  <span class="fl">17.42</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb131-20"><a href="data-manipulation.html#cb131-20" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span>         <span class="dv">4</span>   <span class="fl">78.7</span>   <span class="dv">66</span>  <span class="fl">4.08</span>  <span class="fl">2.200</span>  <span class="fl">19.47</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb131-21"><a href="data-manipulation.html#cb131-21" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>         <span class="dv">4</span>   <span class="fl">75.7</span>   <span class="dv">52</span>  <span class="fl">4.93</span>  <span class="fl">1.615</span>  <span class="fl">18.52</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb131-22"><a href="data-manipulation.html#cb131-22" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>         <span class="dv">4</span>   <span class="fl">71.1</span>   <span class="dv">65</span>  <span class="fl">4.22</span>  <span class="fl">1.835</span>  <span class="fl">19.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb131-23"><a href="data-manipulation.html#cb131-23" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>  <span class="fl">21.5</span>         <span class="dv">4</span>  <span class="fl">120.1</span>   <span class="dv">97</span>  <span class="fl">3.70</span>  <span class="fl">2.465</span>  <span class="fl">20.01</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb131-24"><a href="data-manipulation.html#cb131-24" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>  <span class="fl">15.5</span>         <span class="dv">8</span>  <span class="fl">318.0</span>  <span class="dv">150</span>  <span class="fl">2.76</span>  <span class="fl">3.520</span>  <span class="fl">16.87</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb131-25"><a href="data-manipulation.html#cb131-25" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>  <span class="fl">15.2</span>         <span class="dv">8</span>  <span class="fl">304.0</span>  <span class="dv">150</span>  <span class="fl">3.15</span>  <span class="fl">3.435</span>  <span class="fl">17.30</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb131-26"><a href="data-manipulation.html#cb131-26" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>  <span class="fl">13.3</span>         <span class="dv">8</span>  <span class="fl">350.0</span>  <span class="dv">245</span>  <span class="fl">3.73</span>  <span class="fl">3.840</span>  <span class="fl">15.41</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb131-27"><a href="data-manipulation.html#cb131-27" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>  <span class="fl">19.2</span>         <span class="dv">8</span>  <span class="fl">400.0</span>  <span class="dv">175</span>  <span class="fl">3.08</span>  <span class="fl">3.845</span>  <span class="fl">17.05</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb131-28"><a href="data-manipulation.html#cb131-28" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>  <span class="fl">27.3</span>         <span class="dv">4</span>   <span class="fl">79.0</span>   <span class="dv">66</span>  <span class="fl">4.08</span>  <span class="fl">1.935</span>  <span class="fl">18.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb131-29"><a href="data-manipulation.html#cb131-29" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>  <span class="fl">26.0</span>         <span class="dv">4</span>  <span class="fl">120.3</span>   <span class="dv">91</span>  <span class="fl">4.43</span>  <span class="fl">2.140</span>  <span class="fl">16.70</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">2</span></span>
<span id="cb131-30"><a href="data-manipulation.html#cb131-30" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span>         <span class="dv">4</span>   <span class="fl">95.1</span>  <span class="dv">113</span>  <span class="fl">3.77</span>  <span class="fl">1.513</span>  <span class="fl">16.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">2</span></span>
<span id="cb131-31"><a href="data-manipulation.html#cb131-31" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>  <span class="fl">15.8</span>         <span class="dv">8</span>  <span class="fl">351.0</span>  <span class="dv">264</span>  <span class="fl">4.22</span>  <span class="fl">3.170</span>  <span class="fl">14.50</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">4</span></span>
<span id="cb131-32"><a href="data-manipulation.html#cb131-32" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>  <span class="fl">19.7</span>         <span class="dv">6</span>  <span class="fl">145.0</span>  <span class="dv">175</span>  <span class="fl">3.62</span>  <span class="fl">2.770</span>  <span class="fl">15.50</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">6</span></span>
<span id="cb131-33"><a href="data-manipulation.html#cb131-33" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span>         <span class="dv">8</span>  <span class="fl">301.0</span>  <span class="dv">335</span>  <span class="fl">3.54</span>  <span class="fl">3.570</span>  <span class="fl">14.60</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">8</span></span>
<span id="cb131-34"><a href="data-manipulation.html#cb131-34" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>  <span class="fl">21.4</span>         <span class="dv">4</span>  <span class="fl">121.0</span>  <span class="dv">109</span>  <span class="fl">4.11</span>  <span class="fl">2.780</span>  <span class="fl">18.60</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span></code></pre></div>
<p>Alternatively, column names can be changed by replacing the vector of column names with a new vector. Below, we create a vector of columns that replaces “drat” with “axle_ratio” using conditional match and indexing and “disp” with “DISP” using indexing.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="data-manipulation.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> column_names <span class="op">=</span> mtcars.columns.values</span>
<span id="cb132-2"><a href="data-manipulation.html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb132-3"><a href="data-manipulation.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># using conditional match</span></span>
<span id="cb132-4"><a href="data-manipulation.html#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> column_names[column_names <span class="op">==</span> <span class="st">&quot;drat&quot;</span>] <span class="op">=</span> <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb132-5"><a href="data-manipulation.html#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb132-6"><a href="data-manipulation.html#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># using indexing</span></span>
<span id="cb132-7"><a href="data-manipulation.html#cb132-7" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> column_names[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;DISP&quot;</span></span>
<span id="cb132-8"><a href="data-manipulation.html#cb132-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb132-9"><a href="data-manipulation.html#cb132-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.columns <span class="op">=</span> column_names</span>
<span id="cb132-10"><a href="data-manipulation.html#cb132-10" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.columns</span>
<span id="cb132-11"><a href="data-manipulation.html#cb132-11" aria-hidden="true" tabindex="-1"></a>Index([<span class="st">&#39;mpg&#39;</span>, <span class="st">&#39;cyl&#39;</span>, <span class="st">&#39;DISP&#39;</span>, <span class="st">&#39;hp&#39;</span>, <span class="st">&#39;axle_ratio&#39;</span>, <span class="st">&#39;wt&#39;</span>, <span class="st">&#39;qsec&#39;</span>, <span class="st">&#39;vs&#39;</span>, <span class="st">&#39;am&#39;</span>,</span>
<span id="cb132-12"><a href="data-manipulation.html#cb132-12" aria-hidden="true" tabindex="-1"></a>       <span class="st">&#39;gear&#39;</span>, <span class="st">&#39;carb&#39;</span>],</span>
<span id="cb132-13"><a href="data-manipulation.html#cb132-13" aria-hidden="true" tabindex="-1"></a>      dtype<span class="op">=</span><span class="st">&#39;object&#39;</span>)</span></code></pre></div>
</div>
<div id="r-20" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-20" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Variable names can be changed by their index (ie, order of columns in the data frame). Below the second column is “cyl”. We change the name to “cylinders”.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-manipulation.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="dv">2</span>]</span>
<span id="cb133-2"><a href="data-manipulation.html#cb133-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;cyl&quot;</span></span>
<span id="cb133-3"><a href="data-manipulation.html#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;cylinders&quot;</span></span>
<span id="cb133-4"><a href="data-manipulation.html#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb133-5"><a href="data-manipulation.html#cb133-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>       <span class="st">&quot;cylinders&quot;</span> <span class="st">&quot;disp&quot;</span>      <span class="st">&quot;hp&quot;</span>        <span class="st">&quot;drat&quot;</span>      <span class="st">&quot;wt&quot;</span>       </span>
<span id="cb133-6"><a href="data-manipulation.html#cb133-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;qsec&quot;</span>      <span class="st">&quot;vs&quot;</span>        <span class="st">&quot;am&quot;</span>        <span class="st">&quot;gear&quot;</span>      <span class="st">&quot;carb&quot;</span>     </span></code></pre></div>
<p>Variable names can also be changed by conditional match. Below we find the variable name that matches “drat” and change to “axle_ratio”.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-manipulation.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">names</span>(mtcars) <span class="sc">==</span> <span class="st">&quot;drat&quot;</span>]</span>
<span id="cb134-2"><a href="data-manipulation.html#cb134-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;drat&quot;</span></span>
<span id="cb134-3"><a href="data-manipulation.html#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">names</span>(mtcars) <span class="sc">==</span> <span class="st">&quot;drat&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb134-4"><a href="data-manipulation.html#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb134-5"><a href="data-manipulation.html#cb134-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>        <span class="st">&quot;cylinders&quot;</span>  <span class="st">&quot;disp&quot;</span>       <span class="st">&quot;hp&quot;</span>         <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb134-6"><a href="data-manipulation.html#cb134-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;wt&quot;</span>         <span class="st">&quot;qsec&quot;</span>       <span class="st">&quot;vs&quot;</span>         <span class="st">&quot;am&quot;</span>         <span class="st">&quot;gear&quot;</span>      </span>
<span id="cb134-7"><a href="data-manipulation.html#cb134-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span>      </span></code></pre></div>
<p>More than one variable name can be changed using a vector of positions or matches.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-manipulation.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">8</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;weight&quot;</span>, <span class="st">&quot;engine&quot;</span>)</span>
<span id="cb135-2"><a href="data-manipulation.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb135-3"><a href="data-manipulation.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># or</span></span>
<span id="cb135-4"><a href="data-manipulation.html#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># names(mtcars)[names(mtcars) %in% c(&quot;wt&quot;, &quot;vs&quot;)] &lt;- c(&quot;weight&quot;, &quot;engine&quot;)</span></span>
<span id="cb135-5"><a href="data-manipulation.html#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb135-6"><a href="data-manipulation.html#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb135-7"><a href="data-manipulation.html#cb135-7" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>        <span class="st">&quot;cylinders&quot;</span>  <span class="st">&quot;disp&quot;</span>       <span class="st">&quot;hp&quot;</span>         <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb135-8"><a href="data-manipulation.html#cb135-8" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;weight&quot;</span>     <span class="st">&quot;qsec&quot;</span>       <span class="st">&quot;engine&quot;</span>     <span class="st">&quot;am&quot;</span>         <span class="st">&quot;gear&quot;</span>      </span>
<span id="cb135-9"><a href="data-manipulation.html#cb135-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span>      </span></code></pre></div>
<p>See also the <code>rename()</code> function in the <a href="https://dplyr.tidyverse.org/"><strong>dplyr</strong></a>.</p>
</div>
</div>
<div id="create-replace-and-remove-variables" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Create, replace and remove variables<a href="data-manipulation.html#create-replace-and-remove-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We often need to create variables that are functions of other variables, or replace existing variables with an updated version.</p>
<div id="python-21" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-21" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Adding a new variable using the indexing notation and assigning a result adds a new column.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb136-1"><a href="data-manipulation.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># add column for Kilometer per liter</span></span>
<span id="cb136-2"><a href="data-manipulation.html#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars[<span class="st">&#39;kpl&#39;</span>] <span class="op">=</span> mtcars.mpg<span class="op">/</span><span class="fl">2.352</span></span></code></pre></div>
<p>Doing the same with an <em>existing</em> column name updates the values in a column.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb137-1"><a href="data-manipulation.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># update to liters per 100 Kilometers</span></span>
<span id="cb137-2"><a href="data-manipulation.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars[<span class="st">&#39;kpl&#39;</span>] <span class="op">=</span> <span class="dv">100</span><span class="op">/</span>mtcars.kpl </span></code></pre></div>
<p>Alternatively, the <code>.</code> notation can be used to update the values in a column.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb138-1"><a href="data-manipulation.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># update to liters per 50 Kilometers</span></span>
<span id="cb138-2"><a href="data-manipulation.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.kpl <span class="op">=</span> <span class="dv">50</span><span class="op">/</span>mtcars.kpl </span></code></pre></div>
<p>To remove a column, use the <code>.drop()</code> function.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb139-1"><a href="data-manipulation.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># drop the kpl variable</span></span>
<span id="cb139-2"><a href="data-manipulation.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.drop(columns<span class="op">=</span>[<span class="st">&#39;kpl&#39;</span>])</span>
<span id="cb139-3"><a href="data-manipulation.html#cb139-3" aria-hidden="true" tabindex="-1"></a>     mpg  cyl   DISP   hp  axle_ratio     wt   qsec  vs  am  gear  carb</span>
<span id="cb139-4"><a href="data-manipulation.html#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>   <span class="fl">21.0</span>    <span class="dv">6</span>  <span class="fl">160.0</span>  <span class="dv">110</span>        <span class="fl">3.90</span>  <span class="fl">2.620</span>  <span class="fl">16.46</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb139-5"><a href="data-manipulation.html#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="fl">21.0</span>    <span class="dv">6</span>  <span class="fl">160.0</span>  <span class="dv">110</span>        <span class="fl">3.90</span>  <span class="fl">2.875</span>  <span class="fl">17.02</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb139-6"><a href="data-manipulation.html#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">22.8</span>    <span class="dv">4</span>  <span class="fl">108.0</span>   <span class="dv">93</span>        <span class="fl">3.85</span>  <span class="fl">2.320</span>  <span class="fl">18.61</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb139-7"><a href="data-manipulation.html#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">21.4</span>    <span class="dv">6</span>  <span class="fl">258.0</span>  <span class="dv">110</span>        <span class="fl">3.08</span>  <span class="fl">3.215</span>  <span class="fl">19.44</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb139-8"><a href="data-manipulation.html#cb139-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="fl">18.7</span>    <span class="dv">8</span>  <span class="fl">360.0</span>  <span class="dv">175</span>        <span class="fl">3.15</span>  <span class="fl">3.440</span>  <span class="fl">17.02</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb139-9"><a href="data-manipulation.html#cb139-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">18.1</span>    <span class="dv">6</span>  <span class="fl">225.0</span>  <span class="dv">105</span>        <span class="fl">2.76</span>  <span class="fl">3.460</span>  <span class="fl">20.22</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb139-10"><a href="data-manipulation.html#cb139-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   <span class="fl">14.3</span>    <span class="dv">8</span>  <span class="fl">360.0</span>  <span class="dv">245</span>        <span class="fl">3.21</span>  <span class="fl">3.570</span>  <span class="fl">15.84</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb139-11"><a href="data-manipulation.html#cb139-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   <span class="fl">24.4</span>    <span class="dv">4</span>  <span class="fl">146.7</span>   <span class="dv">62</span>        <span class="fl">3.69</span>  <span class="fl">3.190</span>  <span class="fl">20.00</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb139-12"><a href="data-manipulation.html#cb139-12" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>   <span class="fl">22.8</span>    <span class="dv">4</span>  <span class="fl">140.8</span>   <span class="dv">95</span>        <span class="fl">3.92</span>  <span class="fl">3.150</span>  <span class="fl">22.90</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb139-13"><a href="data-manipulation.html#cb139-13" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">19.2</span>    <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>        <span class="fl">3.92</span>  <span class="fl">3.440</span>  <span class="fl">18.30</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb139-14"><a href="data-manipulation.html#cb139-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  <span class="fl">17.8</span>    <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>        <span class="fl">3.92</span>  <span class="fl">3.440</span>  <span class="fl">18.90</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">4</span></span>
<span id="cb139-15"><a href="data-manipulation.html#cb139-15" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>  <span class="fl">16.4</span>    <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>        <span class="fl">3.07</span>  <span class="fl">4.070</span>  <span class="fl">17.40</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb139-16"><a href="data-manipulation.html#cb139-16" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  <span class="fl">17.3</span>    <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>        <span class="fl">3.07</span>  <span class="fl">3.730</span>  <span class="fl">17.60</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb139-17"><a href="data-manipulation.html#cb139-17" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>  <span class="fl">15.2</span>    <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>        <span class="fl">3.07</span>  <span class="fl">3.780</span>  <span class="fl">18.00</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span></span>
<span id="cb139-18"><a href="data-manipulation.html#cb139-18" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>  <span class="fl">10.4</span>    <span class="dv">8</span>  <span class="fl">472.0</span>  <span class="dv">205</span>        <span class="fl">2.93</span>  <span class="fl">5.250</span>  <span class="fl">17.98</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb139-19"><a href="data-manipulation.html#cb139-19" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>  <span class="fl">10.4</span>    <span class="dv">8</span>  <span class="fl">460.0</span>  <span class="dv">215</span>        <span class="fl">3.00</span>  <span class="fl">5.424</span>  <span class="fl">17.82</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb139-20"><a href="data-manipulation.html#cb139-20" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>  <span class="fl">14.7</span>    <span class="dv">8</span>  <span class="fl">440.0</span>  <span class="dv">230</span>        <span class="fl">3.23</span>  <span class="fl">5.345</span>  <span class="fl">17.42</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb139-21"><a href="data-manipulation.html#cb139-21" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span>    <span class="dv">4</span>   <span class="fl">78.7</span>   <span class="dv">66</span>        <span class="fl">4.08</span>  <span class="fl">2.200</span>  <span class="fl">19.47</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb139-22"><a href="data-manipulation.html#cb139-22" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>    <span class="dv">4</span>   <span class="fl">75.7</span>   <span class="dv">52</span>        <span class="fl">4.93</span>  <span class="fl">1.615</span>  <span class="fl">18.52</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span>
<span id="cb139-23"><a href="data-manipulation.html#cb139-23" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>    <span class="dv">4</span>   <span class="fl">71.1</span>   <span class="dv">65</span>        <span class="fl">4.22</span>  <span class="fl">1.835</span>  <span class="fl">19.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb139-24"><a href="data-manipulation.html#cb139-24" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>  <span class="fl">21.5</span>    <span class="dv">4</span>  <span class="fl">120.1</span>   <span class="dv">97</span>        <span class="fl">3.70</span>  <span class="fl">2.465</span>  <span class="fl">20.01</span>   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb139-25"><a href="data-manipulation.html#cb139-25" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>  <span class="fl">15.5</span>    <span class="dv">8</span>  <span class="fl">318.0</span>  <span class="dv">150</span>        <span class="fl">2.76</span>  <span class="fl">3.520</span>  <span class="fl">16.87</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb139-26"><a href="data-manipulation.html#cb139-26" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>  <span class="fl">15.2</span>    <span class="dv">8</span>  <span class="fl">304.0</span>  <span class="dv">150</span>        <span class="fl">3.15</span>  <span class="fl">3.435</span>  <span class="fl">17.30</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb139-27"><a href="data-manipulation.html#cb139-27" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>  <span class="fl">13.3</span>    <span class="dv">8</span>  <span class="fl">350.0</span>  <span class="dv">245</span>        <span class="fl">3.73</span>  <span class="fl">3.840</span>  <span class="fl">15.41</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">4</span></span>
<span id="cb139-28"><a href="data-manipulation.html#cb139-28" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>  <span class="fl">19.2</span>    <span class="dv">8</span>  <span class="fl">400.0</span>  <span class="dv">175</span>        <span class="fl">3.08</span>  <span class="fl">3.845</span>  <span class="fl">17.05</span>   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">2</span></span>
<span id="cb139-29"><a href="data-manipulation.html#cb139-29" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>  <span class="fl">27.3</span>    <span class="dv">4</span>   <span class="fl">79.0</span>   <span class="dv">66</span>        <span class="fl">4.08</span>  <span class="fl">1.935</span>  <span class="fl">18.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb139-30"><a href="data-manipulation.html#cb139-30" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>  <span class="fl">26.0</span>    <span class="dv">4</span>  <span class="fl">120.3</span>   <span class="dv">91</span>        <span class="fl">4.43</span>  <span class="fl">2.140</span>  <span class="fl">16.70</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">2</span></span>
<span id="cb139-31"><a href="data-manipulation.html#cb139-31" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span>    <span class="dv">4</span>   <span class="fl">95.1</span>  <span class="dv">113</span>        <span class="fl">3.77</span>  <span class="fl">1.513</span>  <span class="fl">16.90</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">2</span></span>
<span id="cb139-32"><a href="data-manipulation.html#cb139-32" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>  <span class="fl">15.8</span>    <span class="dv">8</span>  <span class="fl">351.0</span>  <span class="dv">264</span>        <span class="fl">4.22</span>  <span class="fl">3.170</span>  <span class="fl">14.50</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">4</span></span>
<span id="cb139-33"><a href="data-manipulation.html#cb139-33" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>  <span class="fl">19.7</span>    <span class="dv">6</span>  <span class="fl">145.0</span>  <span class="dv">175</span>        <span class="fl">3.62</span>  <span class="fl">2.770</span>  <span class="fl">15.50</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">6</span></span>
<span id="cb139-34"><a href="data-manipulation.html#cb139-34" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span>    <span class="dv">8</span>  <span class="fl">301.0</span>  <span class="dv">335</span>        <span class="fl">3.54</span>  <span class="fl">3.570</span>  <span class="fl">14.60</span>   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">8</span></span>
<span id="cb139-35"><a href="data-manipulation.html#cb139-35" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>  <span class="fl">21.4</span>    <span class="dv">4</span>  <span class="fl">121.0</span>  <span class="dv">109</span>        <span class="fl">4.11</span>  <span class="fl">2.780</span>  <span class="fl">18.60</span>   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">2</span></span></code></pre></div>
</div>
<div id="r-21" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-21" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Adding a new variable name after the dollar sign notation and assigning a result adds a new column.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-manipulation.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># add column for Kilometer per liter</span></span>
<span id="cb140-2"><a href="data-manipulation.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars<span class="sc">$</span>kpl <span class="ot">&lt;-</span> mtcars<span class="sc">$</span>mpg<span class="sc">/</span><span class="fl">2.352</span></span></code></pre></div>
<p>Doing the same with an <em>existing</em> variable updates the values in a column.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-manipulation.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># update to liters per 100 Kilometers</span></span>
<span id="cb141-2"><a href="data-manipulation.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars<span class="sc">$</span>kpl <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">/</span>mtcars<span class="sc">$</span>kpl </span></code></pre></div>
<p>To remove a variable, assign it <code>NULL</code>.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-manipulation.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># drop the kpl variable</span></span>
<span id="cb142-2"><a href="data-manipulation.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars<span class="sc">$</span>kpl <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<p>See also the <code>mutate()</code> function in the <a href="https://dplyr.tidyverse.org/"><strong>dplyr</strong></a> package.</p>
</div>
</div>
<div id="create-strings-from-numbers" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Create strings from numbers<a href="data-manipulation.html#create-strings-from-numbers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You may have data that is numeric but that needs to be treated as a string.</p>
<div id="python-22" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-22" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can change the data type of a column in a DataFrame using the <code>astype</code> function.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb143-1"><a href="data-manipulation.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mtcars[<span class="st">&#39;am&#39;</span>] <span class="op">=</span> mtcars[<span class="st">&#39;am&#39;</span>].astype(<span class="bu">str</span>)</span>
<span id="cb143-2"><a href="data-manipulation.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">type</span>(mtcars.am[<span class="dv">0</span>]) <span class="co"># check the type of the first item in &#39;am&#39; column</span></span>
<span id="cb143-3"><a href="data-manipulation.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;str&#39;</span><span class="op">&gt;</span></span></code></pre></div>
<p>A potential number-to-string conversion task in Python might be formatting 5-digit American zip codes. Some zip codes begin with 0, but if stored as a numeric value, the 0 is dropped. For example, consider the following pandas DataFrame. Notice the leading 0 is dropped from two of the zip codes.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb144-1"><a href="data-manipulation.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> zc <span class="op">=</span> pandas.read_csv(<span class="st">&#39;data/zc.csv&#39;</span>)</span>
<span id="cb144-2"><a href="data-manipulation.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(zc)</span>
<span id="cb144-3"><a href="data-manipulation.html#cb144-3" aria-hidden="true" tabindex="-1"></a>  state    <span class="bu">zip</span></span>
<span id="cb144-4"><a href="data-manipulation.html#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>    VT   <span class="dv">5001</span></span>
<span id="cb144-5"><a href="data-manipulation.html#cb144-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    VA  <span class="dv">22901</span></span>
<span id="cb144-6"><a href="data-manipulation.html#cb144-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    NH   <span class="dv">3282</span></span></code></pre></div>
<p>One way to fix this is using the string <code>zfill()</code> method. First we convert the numeric column to string type using the method we just demonstrated. Then we access the “zip” column using <code>zc.zip</code> and the <code>zfill()</code> method using <code>str.zfill</code> with the width parameter set to 5. This pads the string with “0” on the left to make each value 5 characters wide.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb145-1"><a href="data-manipulation.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> zc[<span class="st">&#39;zip&#39;</span>] <span class="op">=</span> zc[<span class="st">&#39;zip&#39;</span>].astype(<span class="bu">str</span>)</span>
<span id="cb145-2"><a href="data-manipulation.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> zc[<span class="st">&#39;zip&#39;</span>] <span class="op">=</span> zc.<span class="bu">zip</span>.<span class="bu">str</span>.zfill(<span class="dv">5</span>)</span>
<span id="cb145-3"><a href="data-manipulation.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(zc)</span>
<span id="cb145-4"><a href="data-manipulation.html#cb145-4" aria-hidden="true" tabindex="-1"></a>  state    <span class="bu">zip</span></span>
<span id="cb145-5"><a href="data-manipulation.html#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>    VT  <span class="dv">0</span><span class="er">5001</span></span>
<span id="cb145-6"><a href="data-manipulation.html#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    VA  <span class="dv">22901</span></span>
<span id="cb145-7"><a href="data-manipulation.html#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    NH  <span class="dv">0</span><span class="er">3282</span></span></code></pre></div>
<p>If we knew we were importing zip codes using <code>read_csv</code>, we could also use the <code>dtype</code> argument to specify which storage type to use for the “zip” column. Below we pass a dictionary that maps the “str” type to the “zip” column. The result is a properly formatted zip code column.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb146-1"><a href="data-manipulation.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> zc <span class="op">=</span> pandas.read_csv(<span class="st">&#39;data/zc.csv&#39;</span>, dtype <span class="op">=</span> {<span class="st">&#39;zip&#39;</span>: <span class="st">&#39;str&#39;</span>})</span>
<span id="cb146-2"><a href="data-manipulation.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(zc)</span>
<span id="cb146-3"><a href="data-manipulation.html#cb146-3" aria-hidden="true" tabindex="-1"></a>  state    <span class="bu">zip</span></span>
<span id="cb146-4"><a href="data-manipulation.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>    VT  <span class="dv">0</span><span class="er">5001</span></span>
<span id="cb146-5"><a href="data-manipulation.html#cb146-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    VA  <span class="dv">22901</span></span>
<span id="cb146-6"><a href="data-manipulation.html#cb146-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    NH  <span class="dv">0</span><span class="er">3282</span></span></code></pre></div>
</div>
<div id="r-22" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-22" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>as.character()</code> function takes a vector and converts it to string format.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-manipulation.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(mtcars<span class="sc">$</span>am)</span>
<span id="cb147-2"><a href="data-manipulation.html#cb147-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb147-3"><a href="data-manipulation.html#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(<span class="fu">as.character</span>(mtcars<span class="sc">$</span>am))</span>
<span id="cb147-4"><a href="data-manipulation.html#cb147-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1&quot;</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;0&quot;</span> <span class="st">&quot;0&quot;</span> <span class="st">&quot;0&quot;</span></span></code></pre></div>
<p>Note we just demonstrated conversion. To save the conversion we need to <em>assign</em> the result to the data frame.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-manipulation.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># add new string variable am_ch</span></span>
<span id="cb148-2"><a href="data-manipulation.html#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars<span class="sc">$</span>am_ch <span class="ot">&lt;-</span> <span class="fu">as.character</span>(mtcars<span class="sc">$</span>am)</span>
<span id="cb148-3"><a href="data-manipulation.html#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(mtcars<span class="sc">$</span>am_ch)</span>
<span id="cb148-4"><a href="data-manipulation.html#cb148-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1&quot;</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;0&quot;</span> <span class="st">&quot;0&quot;</span> <span class="st">&quot;0&quot;</span></span></code></pre></div>
<p>The <code>factor()</code> function can also be used to convert a numeric vector into a categorical variable. The result is not exactly a string, however. A factor is made of integers with character labels. Factors are useful for character data that have a fixed set of levels (eg, “grade 1”, grade 2”, etc)</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data-manipulation.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># convert to factor</span></span>
<span id="cb149-2"><a href="data-manipulation.html#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">head</span>(mtcars<span class="sc">$</span>am)</span>
<span id="cb149-3"><a href="data-manipulation.html#cb149-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb149-4"><a href="data-manipulation.html#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(<span class="fu">factor</span>(mtcars<span class="sc">$</span>am))</span>
<span id="cb149-5"><a href="data-manipulation.html#cb149-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb149-6"><a href="data-manipulation.html#cb149-6" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> <span class="dv">0</span> <span class="dv">1</span></span>
<span id="cb149-7"><a href="data-manipulation.html#cb149-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb149-8"><a href="data-manipulation.html#cb149-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># convert to factor with labels</span></span>
<span id="cb149-9"><a href="data-manipulation.html#cb149-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">head</span>(<span class="fu">factor</span>(mtcars<span class="sc">$</span>am, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;automatic&quot;</span>, <span class="st">&quot;manual&quot;</span>)))</span>
<span id="cb149-10"><a href="data-manipulation.html#cb149-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] manual    manual    manual    automatic automatic automatic</span>
<span id="cb149-11"><a href="data-manipulation.html#cb149-11" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> automatic manual</span></code></pre></div>
<p>Again we just demonstrated factor conversion. To save the conversion we need to assign to the data frame.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="data-manipulation.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># create factor variable am_fac</span></span>
<span id="cb150-2"><a href="data-manipulation.html#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars<span class="sc">$</span>am_fac <span class="ot">&lt;-</span> <span class="fu">factor</span>(mtcars<span class="sc">$</span>am, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;automatic&quot;</span>, <span class="st">&quot;manual&quot;</span>))</span>
<span id="cb150-3"><a href="data-manipulation.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(mtcars<span class="sc">$</span>am_fac)</span>
<span id="cb150-4"><a href="data-manipulation.html#cb150-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] manual    manual    manual    automatic automatic automatic</span>
<span id="cb150-5"><a href="data-manipulation.html#cb150-5" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> automatic manual</span></code></pre></div>
<p>A common number-to-string conversion task in R is formatting 5-digit American zip codes. Some zip codes begin with 0, but if stored as a numeric value, the 0 is dropped.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="data-manipulation.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> zip_codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">03766</span>, <span class="dv">03748</span>, <span class="dv">22901</span>, <span class="dv">03264</span>)</span>
<span id="cb151-2"><a href="data-manipulation.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> zip_codes</span>
<span id="cb151-3"><a href="data-manipulation.html#cb151-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">3766</span>  <span class="dv">3748</span> <span class="dv">22901</span>  <span class="dv">3264</span></span></code></pre></div>
<p>We need to store the zip code as a character value so the 0 is preserved. One way to do this is via the <code>sprintf()</code> function in base R. The first argument is the <em>format string</em> or <em>conversion specification</em>. A conversion specification begins with “%”. The following “0” and “5” says to format the zip_codes vector as a 5-digit string padded by zeroes on the left. The final “i” says we’re working with integer values.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="data-manipulation.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sprintf</span>(<span class="st">&quot;%05i&quot;</span>, zip_codes)</span>
<span id="cb152-2"><a href="data-manipulation.html#cb152-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;03766&quot;</span> <span class="st">&quot;03748&quot;</span> <span class="st">&quot;22901&quot;</span> <span class="st">&quot;03264&quot;</span></span></code></pre></div>
<p>See also the <code>str_pad()</code> function in the <strong>stringr</strong> package.</p>
</div>
</div>
<div id="create-numbers-from-strings" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Create numbers from strings<a href="data-manipulation.html#create-numbers-from-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>String variables that ought to be numbers usually have some character data in the values such as units (eg, “4 cm”). To create numbers from strings it’s important to remove any character data that cannot be converted to a number.</p>
<div id="python-23" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-23" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>astype(float)</code> or <code>astype(int)</code> function will coerce strings to numerical representation.</p>
<p>For demonstration, let’s say we have the following numpy array.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb153-1"><a href="data-manipulation.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb153-2"><a href="data-manipulation.html#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> weight <span class="op">=</span> np.array([<span class="st">&quot;125 lbs.&quot;</span>, <span class="st">&quot;132 lbs.&quot;</span>, <span class="st">&quot;156 lbs.&quot;</span>])</span></code></pre></div>
<p>The <code>astype(float)</code> function throws an error due to the presence of strings. The <code>astype()</code> function is for numpy arrays.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb154-1"><a href="data-manipulation.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="cf">try</span>:</span>
<span id="cb154-2"><a href="data-manipulation.html#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span>   weight.astype(<span class="bu">float</span>)</span>
<span id="cb154-3"><a href="data-manipulation.html#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb154-4"><a href="data-manipulation.html#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span>   <span class="bu">print</span>(<span class="st">&quot;ValueError: could not convert string to float: &#39;125 lbs.&#39;&quot;</span>)</span>
<span id="cb154-5"><a href="data-manipulation.html#cb154-5" aria-hidden="true" tabindex="-1"></a><span class="pp">ValueError</span>: could <span class="kw">not</span> convert string to <span class="bu">float</span>: <span class="st">&#39;125 lbs.&#39;</span></span></code></pre></div>
<p>One way to approach this is to first remove the strings from the objects and then use <code>astype(float)</code>. Below we use the <code>strip()</code> function to find ” lbs.” using a list comprehension.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb155-1"><a href="data-manipulation.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># [] indicates a list in python</span></span>
<span id="cb155-2"><a href="data-manipulation.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># np.array() changes the list back into an array</span></span>
<span id="cb155-3"><a href="data-manipulation.html#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> weight <span class="op">=</span> np.array([w.strip(<span class="st">&quot; lbs.&quot;</span>) <span class="cf">for</span> w <span class="kw">in</span> weight])</span></code></pre></div>
<p>Now we can use the <code>astype()</code> function to change the elements in weight from <code>str</code> to <code>float</code>.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb156-1"><a href="data-manipulation.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> weight.astype(<span class="bu">float</span>)</span>
<span id="cb156-2"><a href="data-manipulation.html#cb156-2" aria-hidden="true" tabindex="-1"></a>array([<span class="fl">125.</span>, <span class="fl">132.</span>, <span class="fl">156.</span>])</span></code></pre></div>
</div>
<div id="r-23" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-23" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>as.numeric()</code> function will attempt to coerce strings to numeric type <em>if possible</em>. Any non-numeric values are coerced to NA.</p>
<p>For demonstration, let’s say we have the following vector.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="data-manipulation.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;125 lbs.&quot;</span>, <span class="st">&quot;132 lbs.&quot;</span>, <span class="st">&quot;156 lbs.&quot;</span>)</span></code></pre></div>
<p>The <code>as.numeric()</code> function returns all NA due to presence of character data.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="data-manipulation.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">as.numeric</span>(weight)</span>
<span id="cb158-2"><a href="data-manipulation.html#cb158-2" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> NAs introduced by coercion</span>
<span id="cb158-3"><a href="data-manipulation.html#cb158-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span></span></code></pre></div>
<p>There are many ways to approach this. A common approach is to first remove the characters and then use <code>as.numeric()</code>. Below we use the <code>gsub()</code> function to find “lbs.” and replace with nothing (find-and-replace procedures are discussed more below).</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="data-manipulation.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> weightN <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;lbs.&quot;</span>, <span class="st">&quot;&quot;</span>, weight)</span>
<span id="cb159-2"><a href="data-manipulation.html#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">as.numeric</span>(weightN)</span>
<span id="cb159-3"><a href="data-manipulation.html#cb159-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">125</span> <span class="dv">132</span> <span class="dv">156</span></span></code></pre></div>
<p>The <code>parse_number()</code> function in the <strong>readr</strong> package can often take care of these situations automatically.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="data-manipulation.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> readr<span class="sc">::</span><span class="fu">parse_number</span>(weight)</span>
<span id="cb160-2"><a href="data-manipulation.html#cb160-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">125</span> <span class="dv">132</span> <span class="dv">156</span></span></code></pre></div>
</div>
</div>
<div id="combine-strings" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> Combine strings<a href="data-manipulation.html#combine-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>String concatenation—turning ‘Jane’ and ‘Smith’ into ‘Jane Smith’—is easily done in both languages.</p>
<div id="python-24" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-24" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>+</code> operator can combine strings in Python.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb161-1"><a href="data-manipulation.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> species <span class="op">=</span> <span class="st">&#39;yellow-bellied sea snake&#39;</span></span>
<span id="cb161-2"><a href="data-manipulation.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> tail_shape <span class="op">=</span> <span class="st">&#39;paddle-shaped&#39;</span></span>
<span id="cb161-3"><a href="data-manipulation.html#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb161-4"><a href="data-manipulation.html#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> statement <span class="op">=</span> <span class="st">&#39;The &#39;</span> <span class="op">+</span> species <span class="op">+</span> <span class="st">&#39; has a &#39;</span> <span class="op">+</span> tail_shape <span class="op">+</span> <span class="st">&#39; tail that helps it swim.&#39;</span></span>
<span id="cb161-5"><a href="data-manipulation.html#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(statement)</span>
<span id="cb161-6"><a href="data-manipulation.html#cb161-6" aria-hidden="true" tabindex="-1"></a>The yellow<span class="op">-</span>bellied sea snake has a paddle<span class="op">-</span>shaped tail that helps it swim.</span></code></pre></div>
</div>
<div id="r-24" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-24" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>paste()</code> and <code>paste0()</code> functions combine strings in R. The former concatenates strings and places spaces between them; the latter concatenates sans spaces.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="data-manipulation.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> species <span class="ot">&lt;-</span> <span class="st">&#39;rainbow boa&#39;</span></span>
<span id="cb162-2"><a href="data-manipulation.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> appearance <span class="ot">&lt;-</span> <span class="st">&#39;iridescent&#39;</span></span>
<span id="cb162-3"><a href="data-manipulation.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> location <span class="ot">&lt;-</span> <span class="st">&#39;Central and South America&#39;</span></span>
<span id="cb162-4"><a href="data-manipulation.html#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb162-5"><a href="data-manipulation.html#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> statement1 <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&#39;The&#39;</span>, species, <span class="st">&#39;has an&#39;</span>, appearance, <span class="st">&#39;sheen.&#39;</span>)</span>
<span id="cb162-6"><a href="data-manipulation.html#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> statement1</span>
<span id="cb162-7"><a href="data-manipulation.html#cb162-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The rainbow boa has an iridescent sheen.&quot;</span></span>
<span id="cb162-8"><a href="data-manipulation.html#cb162-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb162-9"><a href="data-manipulation.html#cb162-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Note that spaces must be provided explicitly when using paste0()</span></span>
<span id="cb162-10"><a href="data-manipulation.html#cb162-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> statement2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;The &#39;</span>, species, <span class="st">&#39; is found in &#39;</span>, location)</span>
<span id="cb162-11"><a href="data-manipulation.html#cb162-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> statement2</span>
<span id="cb162-12"><a href="data-manipulation.html#cb162-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The rainbow boa is found in Central and South America&quot;</span></span></code></pre></div>
</div>
</div>
<div id="finding-and-replacing-patterns-within-strings" class="section level2 hasAnchor" number="4.9">
<h2><span class="header-section-number">4.9</span> Finding and replacing patterns within strings<a href="data-manipulation.html#finding-and-replacing-patterns-within-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section reviews key functions in Python and R for finding and replacing character patterns. The functions we discuss can search for fixed character patterns (e.g., “Meredith Rollins” to case-sensitively match that name and that name alone) or regular expression (regex) patterns (e.g., <code>\w+</code> to capture all instances of &gt;=1 word character). Note that in R, meta characters, like <code>w</code> (to match word characters) and <code>d</code> (to match digits), are escaped with <em>two</em> backslashes (e.g., <code>\\w</code> and <code>\\d</code>). In Python, regex patterns are generally headed by <code>r</code>, which allows meta characters in the regex itself to be escaped with just one <code>\</code> (e.g., <code>r"\w+"</code>). Regex is an enormous topic, and we don’t discuss it at any length here, but you can learn more about regular expressions—and how they’re implemented in different programming languages—at these resources: <a href="https://www.regular-expressions.info/" class="uri">https://www.regular-expressions.info/</a>; <a href="https://regexone.com/" class="uri">https://regexone.com/</a></p>
<div id="python-25" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-25" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <strong>re</strong> module provides a set of functions for searching and manipulating strings. The <code>search()</code> function does exactly as its name suggests: It identifies matches for a fixed or regex character pattern in a string. <code>sub()</code> searches for and replaces character patterns (fixed or regex). The <code>count</code> argument in <code>sub()</code> allows a user to specify how many instances of the matched pattern they want to to replace; e.g., use <code>count = 1</code> to replace just the first instance of a match.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb163-1"><a href="data-manipulation.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="im">import</span> re</span>
<span id="cb163-2"><a href="data-manipulation.html#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> statement <span class="op">=</span> <span class="st">&#39;Pencils with an HB graphite grade are commonly used for writing. An HB pencil is approximately equal to a #2 pencil.&#39;</span></span>
<span id="cb163-3"><a href="data-manipulation.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb163-4"><a href="data-manipulation.html#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Search for &quot;HB&quot; using fixed and regex patterns</span></span>
<span id="cb163-5"><a href="data-manipulation.html#cb163-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> search_result1 <span class="op">=</span> re.search(pattern <span class="op">=</span> <span class="st">&quot;HB&quot;</span>, string <span class="op">=</span> statement)</span>
<span id="cb163-6"><a href="data-manipulation.html#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(search_result1)</span>
<span id="cb163-7"><a href="data-manipulation.html#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>re.Match <span class="bu">object</span><span class="op">;</span> span<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">18</span>), match<span class="op">=</span><span class="st">&#39;HB&#39;</span><span class="op">&gt;</span></span>
<span id="cb163-8"><a href="data-manipulation.html#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> search_result2 <span class="op">=</span> re.search(pattern <span class="op">=</span> <span class="vs">r&quot;[H,B]</span><span class="sc">{2}</span><span class="vs">&quot;</span>, string <span class="op">=</span> statement)</span>
<span id="cb163-9"><a href="data-manipulation.html#cb163-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(search_result2)</span>
<span id="cb163-10"><a href="data-manipulation.html#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb163-11"><a href="data-manipulation.html#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Replace all instances of &quot;HB&quot;</span></span>
<span id="cb163-12"><a href="data-manipulation.html#cb163-12" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>re.Match <span class="bu">object</span><span class="op">;</span> span<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">18</span>), match<span class="op">=</span><span class="st">&#39;HB&#39;</span><span class="op">&gt;</span></span>
<span id="cb163-13"><a href="data-manipulation.html#cb163-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> all_replaced <span class="op">=</span> re.sub(pattern <span class="op">=</span> <span class="st">&#39;HB&#39;</span>, repl <span class="op">=</span> <span class="st">&#39;HB (hard black)&#39;</span>, string <span class="op">=</span> statement)</span>
<span id="cb163-14"><a href="data-manipulation.html#cb163-14" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(all_replaced)</span>
<span id="cb163-15"><a href="data-manipulation.html#cb163-15" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb163-16"><a href="data-manipulation.html#cb163-16" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Replace just the first instance of HB</span></span>
<span id="cb163-17"><a href="data-manipulation.html#cb163-17" aria-hidden="true" tabindex="-1"></a>Pencils <span class="cf">with</span> an HB (hard black) graphite grade are commonly used <span class="cf">for</span> writing. An HB (hard black) pencil <span class="kw">is</span> approximately equal to a <span class="co">#2 pencil.</span></span>
<span id="cb163-18"><a href="data-manipulation.html#cb163-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> one_replaced <span class="op">=</span> re.sub(pattern <span class="op">=</span> <span class="st">&#39;HB&#39;</span>, repl <span class="op">=</span> <span class="st">&#39;HB (hard black)&#39;</span>, string <span class="op">=</span> statement, count <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb163-19"><a href="data-manipulation.html#cb163-19" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(one_replaced)</span>
<span id="cb163-20"><a href="data-manipulation.html#cb163-20" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb163-21"><a href="data-manipulation.html#cb163-21" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Search and replace using a regex pattern instead of a fixed string</span></span>
<span id="cb163-22"><a href="data-manipulation.html#cb163-22" aria-hidden="true" tabindex="-1"></a>Pencils <span class="cf">with</span> an HB (hard black) graphite grade are commonly used <span class="cf">for</span> writing. An HB pencil <span class="kw">is</span> approximately equal to a <span class="co">#2 pencil.</span></span>
<span id="cb163-23"><a href="data-manipulation.html#cb163-23" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> regex_replaced <span class="op">=</span> re.sub(pattern <span class="op">=</span> <span class="vs">r&#39;(?&lt;=\.)\s</span><span class="sc">{1}</span><span class="vs">&#39;</span>, repl <span class="op">=</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>, string <span class="op">=</span> statement)</span>
<span id="cb163-24"><a href="data-manipulation.html#cb163-24" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(regex_replaced)</span>
<span id="cb163-25"><a href="data-manipulation.html#cb163-25" aria-hidden="true" tabindex="-1"></a>Pencils <span class="cf">with</span> an HB graphite grade are commonly used <span class="cf">for</span> writing.</span>
<span id="cb163-26"><a href="data-manipulation.html#cb163-26" aria-hidden="true" tabindex="-1"></a>An HB pencil <span class="kw">is</span> approximately equal to a <span class="co">#2 pencil.</span></span></code></pre></div>
</div>
<div id="r-25" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-25" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The standard-issue string-search function is <code>grep()</code>; it returns the index of the elements in a set of one or more strings for which a pattern match was found. (<code>grepl()</code> acts similarly but returns a vector of <code>TRUE</code>/<code>FALSE</code> indicating whether a match was found in each string passed to the function.) The functions <code>sub()</code> and <code>gsub()</code> can be used to find and replace instances of a pattern: The former replaces just the first instance; the latter replaces all instances. The search pattern can be provided as a raw character string or as a regular expression.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="data-manipulation.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> statements <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;Great Pencil Co. primarily sells pencils of the following grades: HB; B; and 3B.&#39;</span>,</span>
<span id="cb164-2"><a href="data-manipulation.html#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                 <span class="st">&#39;Great Pencil Co. has its headquarters in Maine, and Great Pencil Co. has supplied the Northeast for decades.&#39;</span>)</span>
<span id="cb164-3"><a href="data-manipulation.html#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb164-4"><a href="data-manipulation.html#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Search for pattern and return indexex of elements for which match is found</span></span>
<span id="cb164-5"><a href="data-manipulation.html#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&#39;pencil&#39;</span>, <span class="at">x =</span> statements) <span class="co"># When searched for case sensitively, &quot;pencil&quot; is only found in the first string</span></span>
<span id="cb164-6"><a href="data-manipulation.html#cb164-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb164-7"><a href="data-manipulation.html#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">grep</span>(<span class="at">pattern =</span> <span class="st">&#39;(?i)pencil&#39;</span>, <span class="at">x =</span> statements) <span class="co"># When searched for case insensitively, &quot;P/pencil&quot; is found in both strings</span></span>
<span id="cb164-8"><a href="data-manipulation.html#cb164-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span></span>
<span id="cb164-9"><a href="data-manipulation.html#cb164-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb164-10"><a href="data-manipulation.html#cb164-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Replace the first instance of a pattern (Co. --&gt; Company)</span></span>
<span id="cb164-11"><a href="data-manipulation.html#cb164-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> revised <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="at">pattern =</span> <span class="st">&#39;Co.&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39;Company&#39;</span>, <span class="at">x =</span> statements)</span>
<span id="cb164-12"><a href="data-manipulation.html#cb164-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> revised</span>
<span id="cb164-13"><a href="data-manipulation.html#cb164-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Great Pencil Company primarily sells pencils of the following grades: HB; B; and 3B.&quot;</span>                            </span>
<span id="cb164-14"><a href="data-manipulation.html#cb164-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">&quot;Great Pencil Company has its headquarters in Maine, and Great Pencil Co. has supplied the Northeast for decades.&quot;</span></span>
<span id="cb164-15"><a href="data-manipulation.html#cb164-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb164-16"><a href="data-manipulation.html#cb164-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Replace all instances of a pattern (; --&gt; ,)</span></span>
<span id="cb164-17"><a href="data-manipulation.html#cb164-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> revised2 <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&#39;;&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39;,&#39;</span>, <span class="at">x =</span> revised)</span>
<span id="cb164-18"><a href="data-manipulation.html#cb164-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> revised2</span>
<span id="cb164-19"><a href="data-manipulation.html#cb164-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Great Pencil Company primarily sells pencils of the following grades: HB, B, and 3B.&quot;</span>                            </span>
<span id="cb164-20"><a href="data-manipulation.html#cb164-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">&quot;Great Pencil Company has its headquarters in Maine, and Great Pencil Co. has supplied the Northeast for decades.&quot;</span></span>
<span id="cb164-21"><a href="data-manipulation.html#cb164-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb164-22"><a href="data-manipulation.html#cb164-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Find and replace a pattern using regex (3B --&gt; 2B)</span></span>
<span id="cb164-23"><a href="data-manipulation.html#cb164-23" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> final <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="at">pattern =</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">d{1}&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39;2&#39;</span>, <span class="at">x =</span> revised2)</span>
<span id="cb164-24"><a href="data-manipulation.html#cb164-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> final</span>
<span id="cb164-25"><a href="data-manipulation.html#cb164-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Great Pencil Company primarily sells pencils of the following grades: HB, B, and 2B.&quot;</span>                            </span>
<span id="cb164-26"><a href="data-manipulation.html#cb164-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">&quot;Great Pencil Company has its headquarters in Maine, and Great Pencil Co. has supplied the Northeast for decades.&quot;</span></span></code></pre></div>
<p>Those functions can be used to trim excess (or all) white space in character strings.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="data-manipulation.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> spaced_string <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;This      string    started  out with too    many    spaces.&#39;</span>)</span>
<span id="cb165-2"><a href="data-manipulation.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Replace all instances of &gt;=2 spaces with single spaces</span></span>
<span id="cb165-3"><a href="data-manipulation.html#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">s{2,}&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39; &#39;</span>, <span class="at">x =</span> spaced_string)</span>
<span id="cb165-4"><a href="data-manipulation.html#cb165-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;This string started out with too many spaces.&quot;</span></span>
<span id="cb165-5"><a href="data-manipulation.html#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Remove all white space</span></span>
<span id="cb165-6"><a href="data-manipulation.html#cb165-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> collapse_these <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;9:00 - 10:15&#39;</span>, <span class="st">&#39;10:15 - 11:30&#39;</span>, <span class="st">&#39;11:30 - 12:00&#39;</span>)</span>
<span id="cb165-7"><a href="data-manipulation.html#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">s&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39;&#39;</span>, <span class="at">x =</span> collapse_these)</span>
<span id="cb165-8"><a href="data-manipulation.html#cb165-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;9:00-10:15&quot;</span>  <span class="st">&quot;10:15-11:30&quot;</span> <span class="st">&quot;11:30-12:00&quot;</span></span></code></pre></div>
<p>The package <strong>stringi</strong> also provides an array of string-search and string-manipulation functions, including <code>stri_detect()</code>, <code>stri_replace()</code>, and <code>stri_extract()</code>, all of which easily handle fixed and regex search patterns. For example:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="data-manipulation.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(stringi)</span>
<span id="cb166-2"><a href="data-manipulation.html#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> user_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">&#39;Shire, Jane E&#39;</span>, <span class="st">&#39;Winchester, Marcus L&#39;</span>, <span class="st">&#39;Fox, Sal&#39;</span>), <span class="at">id_number =</span> <span class="fu">c</span>(<span class="st">&#39;aaa101&#39;</span>, <span class="st">&#39;aaa102&#39;</span>, <span class="st">&#39;aaa103&#39;</span>))</span>
<span id="cb166-3"><a href="data-manipulation.html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> user_dat</span>
<span id="cb166-4"><a href="data-manipulation.html#cb166-4" aria-hidden="true" tabindex="-1"></a>                  name id_number</span>
<span id="cb166-5"><a href="data-manipulation.html#cb166-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        Shire, Jane E    aaa101</span>
<span id="cb166-6"><a href="data-manipulation.html#cb166-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Winchester, Marcus L    aaa102</span>
<span id="cb166-7"><a href="data-manipulation.html#cb166-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>             Fox, Sal    aaa103</span>
<span id="cb166-8"><a href="data-manipulation.html#cb166-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Say we want to use regex patterns and the stringi package to eliminate the &#39;aaa&#39; patterns from</span></span>
<span id="cb166-9"><a href="data-manipulation.html#cb166-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># the user IDs and then add middle initials---for those users who have them---to the data frame</span></span>
<span id="cb166-10"><a href="data-manipulation.html#cb166-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> user_dat<span class="sc">$</span>id_number <span class="ot">&lt;-</span> <span class="fu">stri_replace</span>(user_dat<span class="sc">$</span>id_number, <span class="at">regex =</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">w{3}(?=</span><span class="sc">\\</span><span class="st">d+)&#39;</span>, <span class="at">replacement =</span> <span class="st">&#39;&#39;</span>)</span>
<span id="cb166-11"><a href="data-manipulation.html#cb166-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> user_dat<span class="sc">$</span>middle_initial <span class="ot">&lt;-</span> <span class="fu">stri_extract</span>(user_dat<span class="sc">$</span>name, <span class="at">regex =</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">b</span><span class="sc">\\</span><span class="st">w{1}</span><span class="sc">\\</span><span class="st">b&#39;</span>)</span>
<span id="cb166-12"><a href="data-manipulation.html#cb166-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> user_dat</span>
<span id="cb166-13"><a href="data-manipulation.html#cb166-13" aria-hidden="true" tabindex="-1"></a>                  name id_number middle_initial</span>
<span id="cb166-14"><a href="data-manipulation.html#cb166-14" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        Shire, Jane E       <span class="dv">101</span>              E</span>
<span id="cb166-15"><a href="data-manipulation.html#cb166-15" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Winchester, Marcus L       <span class="dv">102</span>              L</span>
<span id="cb166-16"><a href="data-manipulation.html#cb166-16" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>             Fox, Sal       <span class="dv">103</span>           <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span></code></pre></div>
</div>
</div>
<div id="change-case" class="section level2 hasAnchor" number="4.10">
<h2><span class="header-section-number">4.10</span> Change case<a href="data-manipulation.html#change-case" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to change the case of strings. The most common case transformations are lower case, upper case, and title case.</p>
<div id="python-26" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-26" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>lower()</code>, <code>upper()</code>, and <code>title()</code> functions convert case to lower, upper, and title, respectively. We can use a list comprehension to apply these functions to each string in a list.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb167-1"><a href="data-manipulation.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> col_names <span class="op">=</span> [col.upper() <span class="cf">for</span> col <span class="kw">in</span> mtcars.columns]</span>
<span id="cb167-2"><a href="data-manipulation.html#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.columns <span class="op">=</span> col_names</span></code></pre></div>
</div>
<div id="r-26" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-26" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>tolower()</code> and <code>toupper()</code> functions convert case to lower and upper, respectively.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="data-manipulation.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">names</span>(mtcars))</span>
<span id="cb168-2"><a href="data-manipulation.html#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb168-3"><a href="data-manipulation.html#cb168-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;MPG&quot;</span>        <span class="st">&quot;CYLINDERS&quot;</span>  <span class="st">&quot;DISP&quot;</span>       <span class="st">&quot;HP&quot;</span>         <span class="st">&quot;AXLE_RATIO&quot;</span></span>
<span id="cb168-4"><a href="data-manipulation.html#cb168-4" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;WEIGHT&quot;</span>     <span class="st">&quot;QSEC&quot;</span>       <span class="st">&quot;ENGINE&quot;</span>     <span class="st">&quot;AM&quot;</span>         <span class="st">&quot;GEAR&quot;</span>      </span>
<span id="cb168-5"><a href="data-manipulation.html#cb168-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;CARB&quot;</span>       <span class="st">&quot;AM_CH&quot;</span>      <span class="st">&quot;AM_FAC&quot;</span>    </span></code></pre></div>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="data-manipulation.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(mtcars))</span>
<span id="cb169-2"><a href="data-manipulation.html#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb169-3"><a href="data-manipulation.html#cb169-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>        <span class="st">&quot;cylinders&quot;</span>  <span class="st">&quot;disp&quot;</span>       <span class="st">&quot;hp&quot;</span>         <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb169-4"><a href="data-manipulation.html#cb169-4" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;weight&quot;</span>     <span class="st">&quot;qsec&quot;</span>       <span class="st">&quot;engine&quot;</span>     <span class="st">&quot;am&quot;</span>         <span class="st">&quot;gear&quot;</span>      </span>
<span id="cb169-5"><a href="data-manipulation.html#cb169-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span>       <span class="st">&quot;am_ch&quot;</span>      <span class="st">&quot;am_fac&quot;</span>    </span></code></pre></div>
<p>The <strong>stringr</strong> package provides a convenient title case conversion function, <code>str_to_title()</code>, which capitalizes the first letter of each string.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="data-manipulation.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> stringr<span class="sc">::</span><span class="fu">str_to_title</span>(<span class="fu">names</span>(mtcars))</span>
<span id="cb170-2"><a href="data-manipulation.html#cb170-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;Mpg&quot;</span>        <span class="st">&quot;Cylinders&quot;</span>  <span class="st">&quot;Disp&quot;</span>       <span class="st">&quot;Hp&quot;</span>         <span class="st">&quot;Axle_ratio&quot;</span></span>
<span id="cb170-3"><a href="data-manipulation.html#cb170-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;Weight&quot;</span>     <span class="st">&quot;Qsec&quot;</span>       <span class="st">&quot;Engine&quot;</span>     <span class="st">&quot;Am&quot;</span>         <span class="st">&quot;Gear&quot;</span>      </span>
<span id="cb170-4"><a href="data-manipulation.html#cb170-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;Carb&quot;</span>       <span class="st">&quot;Am_ch&quot;</span>      <span class="st">&quot;Am_fac&quot;</span>    </span></code></pre></div>
</div>
</div>
<div id="drop-duplicate-rows" class="section level2 hasAnchor" number="4.11">
<h2><span class="header-section-number">4.11</span> Drop duplicate rows<a href="data-manipulation.html#drop-duplicate-rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to find and drop duplicate elements.</p>
<div id="python-27" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-27" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>duplicated()</code> function determines which rows of a DataFrame are duplicates of previous rows.</p>
<p>First, we create a DataFrame with a duplicate row by using the pandas <code>concat()</code> function. <code>concat()</code> combines DataFrames by rows or columns, row by default.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb171-1"><a href="data-manipulation.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># create DataFrame with duplicate rows</span></span>
<span id="cb171-2"><a href="data-manipulation.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb171-3"><a href="data-manipulation.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars2 <span class="op">=</span> pd.concat([mtcars.iloc[<span class="dv">0</span>:<span class="dv">3</span>,<span class="dv">0</span>:<span class="dv">6</span>], mtcars.iloc[<span class="dv">0</span>:<span class="dv">1</span>,<span class="dv">0</span>:<span class="dv">6</span>]])</span></code></pre></div>
<p>The <code>duplicated()</code> function returns a logical vector. TRUE indicates a row is a duplicate of a previous row.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb172-1"><a href="data-manipulation.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># create DataFrame with duplicate rows</span></span>
<span id="cb172-2"><a href="data-manipulation.html#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars2.duplicated()</span>
<span id="cb172-3"><a href="data-manipulation.html#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>    <span class="va">False</span></span>
<span id="cb172-4"><a href="data-manipulation.html#cb172-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="va">False</span></span>
<span id="cb172-5"><a href="data-manipulation.html#cb172-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="va">False</span></span>
<span id="cb172-6"><a href="data-manipulation.html#cb172-6" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span>     <span class="va">True</span></span>
<span id="cb172-7"><a href="data-manipulation.html#cb172-7" aria-hidden="true" tabindex="-1"></a>dtype: <span class="bu">bool</span></span></code></pre></div>
</div>
<div id="r-27" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-27" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>duplicated()</code> function “determines which elements of a vector or data frame are duplicates of elements with smaller subscripts”. (from <code>?duplicated</code>)</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="data-manipulation.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># create data frame with duplicate rows</span></span>
<span id="cb173-2"><a href="data-manipulation.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mtcars[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>], mtcars[<span class="dv">1</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>])</span>
<span id="cb173-3"><a href="data-manipulation.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># last row is duplicate of first</span></span>
<span id="cb173-4"><a href="data-manipulation.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars2</span>
<span id="cb173-5"><a href="data-manipulation.html#cb173-5" aria-hidden="true" tabindex="-1"></a>   mpg cylinders disp  hp axle_ratio weight</span>
<span id="cb173-6"><a href="data-manipulation.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.620</span></span>
<span id="cb173-7"><a href="data-manipulation.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.875</span></span>
<span id="cb173-8"><a href="data-manipulation.html#cb173-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">22.8</span>         <span class="dv">4</span>  <span class="dv">108</span>  <span class="dv">93</span>       <span class="fl">3.85</span>  <span class="fl">2.320</span></span>
<span id="cb173-9"><a href="data-manipulation.html#cb173-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.620</span></span></code></pre></div>
<p>The <code>duplicated()</code> function returns a logical vector. TRUE indicates a row is a duplicate of a previous row.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="data-manipulation.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># last row is duplicate</span></span>
<span id="cb174-2"><a href="data-manipulation.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">duplicated</span>(mtcars2)</span>
<span id="cb174-3"><a href="data-manipulation.html#cb174-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span></span></code></pre></div>
<p>The TRUE/FALSE vector can be used to extract or drop duplicate rows. Since TRUE in indexing brackets will keep a row, we can use <code>!</code> to negate the logicals and keep those that are “NOT TRUE”</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="data-manipulation.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># drop the duplicate and update the data frame</span></span>
<span id="cb175-2"><a href="data-manipulation.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars3 <span class="ot">&lt;-</span> mtcars2[<span class="sc">!</span><span class="fu">duplicated</span>(mtcars2),]</span>
<span id="cb175-3"><a href="data-manipulation.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars3</span>
<span id="cb175-4"><a href="data-manipulation.html#cb175-4" aria-hidden="true" tabindex="-1"></a>   mpg cylinders disp  hp axle_ratio weight</span>
<span id="cb175-5"><a href="data-manipulation.html#cb175-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.620</span></span>
<span id="cb175-6"><a href="data-manipulation.html#cb175-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">21.0</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.875</span></span>
<span id="cb175-7"><a href="data-manipulation.html#cb175-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">22.8</span>         <span class="dv">4</span>  <span class="dv">108</span>  <span class="dv">93</span>       <span class="fl">3.85</span>  <span class="fl">2.320</span></span></code></pre></div>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="data-manipulation.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># extract and investigate the duplicate row</span></span>
<span id="cb176-2"><a href="data-manipulation.html#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars2[<span class="fu">duplicated</span>(mtcars2),]</span>
<span id="cb176-3"><a href="data-manipulation.html#cb176-3" aria-hidden="true" tabindex="-1"></a>  mpg cylinders disp  hp axle_ratio weight</span>
<span id="cb176-4"><a href="data-manipulation.html#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">21</span>         <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span>        <span class="fl">3.9</span>   <span class="fl">2.62</span></span></code></pre></div>
<p>The <code>anyDuplicated()</code> function returns the row number of duplicate rows.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="data-manipulation.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">anyDuplicated</span>(mtcars2)</span>
<span id="cb177-2"><a href="data-manipulation.html#cb177-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span></span></code></pre></div>
</div>
</div>
<div id="format-dates" class="section level2 hasAnchor" number="4.12">
<h2><span class="header-section-number">4.12</span> Format dates<a href="data-manipulation.html#format-dates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With formatted dates we can calculate elapsed time, extract components of a date, properly order names of months, and more.</p>
<div id="python-28" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-28" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The Python module <code>datetime</code> can be used to create various date and time objects. Here we will discuss 4 of the main classes within <code>datetime</code> that are most useful.</p>
<p>The first class we will go over is the <code>date()</code> class. This creates a “date” object whose only attributes are year, month, day.</p>
<p>Here we create a date object using the date class. The attributes are specified as integers in the argument of <code>date()</code> in this order <code>date(year, month, day)</code>.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb178-1"><a href="data-manipulation.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="im">import</span> datetime <span class="im">as</span> dt </span>
<span id="cb178-2"><a href="data-manipulation.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb178-3"><a href="data-manipulation.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> x <span class="op">=</span> dt.date(<span class="dv">2001</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb178-4"><a href="data-manipulation.html#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(x)</span>
<span id="cb178-5"><a href="data-manipulation.html#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2001</span><span class="op">-</span><span class="dv">0</span><span class="er">4</span><span class="op">-</span><span class="dv">12</span></span></code></pre></div>
<p>To get today’s date, we can use the <code>date.today()</code> function:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb179-1"><a href="data-manipulation.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> today <span class="op">=</span> dt.date.today()</span>
<span id="cb179-2"><a href="data-manipulation.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(today)</span>
<span id="cb179-3"><a href="data-manipulation.html#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2022</span><span class="op">-</span><span class="dv">0</span><span class="er">3</span><span class="op">-</span><span class="dv">23</span></span></code></pre></div>
<p>Note that the output of both x and today are only year-month-day because they are date objects.</p>
<p>We can extract each of these attributes (year, month, day) from the date object as follows:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb180-1"><a href="data-manipulation.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> today.year </span>
<span id="cb180-2"><a href="data-manipulation.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2022</span></span>
<span id="cb180-3"><a href="data-manipulation.html#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> today.month</span>
<span id="cb180-4"><a href="data-manipulation.html#cb180-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb180-5"><a href="data-manipulation.html#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> today.day</span>
<span id="cb180-6"><a href="data-manipulation.html#cb180-6" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span></span></code></pre></div>
<p>Next we will discuss the <code>time()</code> class. This class creates time objects containing information about only a time. The attributes that go into the <code>time()</code> class are hours, minutes, seconds in that order. Like the date class, these attributes must be inputted as integers.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="data-manipulation.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y <span class="op">=</span> dt.time(<span class="dv">11</span>, <span class="dv">34</span>, <span class="dv">56</span>)</span>
<span id="cb181-2"><a href="data-manipulation.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(y)</span>
<span id="cb181-3"><a href="data-manipulation.html#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>:<span class="dv">34</span>:<span class="dv">56</span></span></code></pre></div>
<p>If you want a time object containing only hours and minutes, only seconds, etc. you can specify the attributes by name when creating the time object.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb182-1"><a href="data-manipulation.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> only_hrs <span class="op">=</span> dt.time(hour <span class="op">=</span> <span class="dv">10</span>)</span>
<span id="cb182-2"><a href="data-manipulation.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> only_mins <span class="op">=</span> dt.time(minute <span class="op">=</span> <span class="dv">55</span>)</span>
<span id="cb182-3"><a href="data-manipulation.html#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb182-4"><a href="data-manipulation.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(only_hrs)</span>
<span id="cb182-5"><a href="data-manipulation.html#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>:<span class="dv">00</span>:<span class="dv">00</span></span>
<span id="cb182-6"><a href="data-manipulation.html#cb182-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="bu">print</span>(only_mins)</span>
<span id="cb182-7"><a href="data-manipulation.html#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="dv">00</span>:<span class="dv">55</span>:<span class="dv">00</span></span></code></pre></div>
<p>Again similar to the date class, we can extract hour, minute, and second attributes from the time objects:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb183-1"><a href="data-manipulation.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y.hour</span>
<span id="cb183-2"><a href="data-manipulation.html#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span></span>
<span id="cb183-3"><a href="data-manipulation.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y.minute</span>
<span id="cb183-4"><a href="data-manipulation.html#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span></span>
<span id="cb183-5"><a href="data-manipulation.html#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y.second</span>
<span id="cb183-6"><a href="data-manipulation.html#cb183-6" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span></span>
<span id="cb183-7"><a href="data-manipulation.html#cb183-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> y.microsecond</span>
<span id="cb183-8"><a href="data-manipulation.html#cb183-8" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span></code></pre></div>
<p>Now we will talk about the <code>datetime()</code> class that creates a datetime object containing information about both date and time. The attributes must be inputted as integers and are year, month, day, hour, minute, second, in that order. Like the date and time classes, we can speficy specific attributes in the argument using the attrubute names as well. If we don’t specify any time components, the datetime object defaults to time 00:00:00.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb184-1"><a href="data-manipulation.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># Input attributes in order</span></span>
<span id="cb184-2"><a href="data-manipulation.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> z <span class="op">=</span> dt.datetime(<span class="dv">1981</span>, <span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">34</span>, <span class="dv">56</span>)</span>
<span id="cb184-3"><a href="data-manipulation.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(z)</span>
<span id="cb184-4"><a href="data-manipulation.html#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb184-5"><a href="data-manipulation.html#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Input attributes using attribute names (any order)</span></span>
<span id="cb184-6"><a href="data-manipulation.html#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1981</span><span class="op">-</span><span class="dv">0</span><span class="er">4</span><span class="op">-</span><span class="dv">12</span> <span class="dv">11</span>:<span class="dv">34</span>:<span class="dv">56</span></span>
<span id="cb184-7"><a href="data-manipulation.html#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> z2<span class="op">=</span> dt.datetime(year <span class="op">=</span> <span class="dv">2021</span>, day <span class="op">=</span> <span class="dv">6</span>, month <span class="op">=</span> <span class="dv">12</span>, hour <span class="op">=</span> <span class="dv">6</span>)</span>
<span id="cb184-8"><a href="data-manipulation.html#cb184-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(z2)</span>
<span id="cb184-9"><a href="data-manipulation.html#cb184-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb184-10"><a href="data-manipulation.html#cb184-10" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># No time attributes</span></span>
<span id="cb184-11"><a href="data-manipulation.html#cb184-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2021</span><span class="op">-</span><span class="dv">12</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span> <span class="dv">0</span><span class="er">6</span>:<span class="dv">00</span>:<span class="dv">00</span></span>
<span id="cb184-12"><a href="data-manipulation.html#cb184-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> z3 <span class="op">=</span> dt.datetime(<span class="dv">1981</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb184-13"><a href="data-manipulation.html#cb184-13" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(z3)</span>
<span id="cb184-14"><a href="data-manipulation.html#cb184-14" aria-hidden="true" tabindex="-1"></a><span class="dv">1981</span><span class="op">-</span><span class="dv">0</span><span class="er">4</span><span class="op">-</span><span class="dv">12</span> <span class="dv">00</span>:<span class="dv">00</span>:<span class="dv">00</span></span></code></pre></div>
<p>Again, we can extract attributes in exactly the same way as the date and time classes.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb185-1"><a href="data-manipulation.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> z.year</span>
<span id="cb185-2"><a href="data-manipulation.html#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1981</span></span>
<span id="cb185-3"><a href="data-manipulation.html#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> z.day</span>
<span id="cb185-4"><a href="data-manipulation.html#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span></span>
<span id="cb185-5"><a href="data-manipulation.html#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> z.hour</span>
<span id="cb185-6"><a href="data-manipulation.html#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span></span></code></pre></div>
<p>The final class we will discuss is the <code>timedelta</code> class. This class is used to store date/time differences between date objects.</p>
<p>The default settings for a timedelta object are as follows: <code>timedelta(weeks=0, days=0, hours=0,minutes=0, seconds=0, milliseconds=0, microseconds=0)</code></p>
<p>Here is an example of howto add and subtract datesa and times using these objects.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb186-1"><a href="data-manipulation.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># Create a datetime object for the current time that we will increment</span></span>
<span id="cb186-2"><a href="data-manipulation.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> d1 <span class="op">=</span> dt.datetime.now()</span>
<span id="cb186-3"><a href="data-manipulation.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(d1)</span>
<span id="cb186-4"><a href="data-manipulation.html#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb186-5"><a href="data-manipulation.html#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Add 550 days to our datetime object </span></span>
<span id="cb186-6"><a href="data-manipulation.html#cb186-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2022</span><span class="op">-</span><span class="dv">0</span><span class="er">3</span><span class="op">-</span><span class="dv">23</span> <span class="dv">15</span>:<span class="dv">0</span><span class="er">9</span>:<span class="fl">07.055284</span></span>
<span id="cb186-7"><a href="data-manipulation.html#cb186-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d2 <span class="op">=</span> d1 <span class="op">+</span> dt.timedelta(days <span class="op">=</span> <span class="dv">550</span>)</span>
<span id="cb186-8"><a href="data-manipulation.html#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(d2)</span>
<span id="cb186-9"><a href="data-manipulation.html#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb186-10"><a href="data-manipulation.html#cb186-10" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># Subtract 5 hours from our datetime object </span></span>
<span id="cb186-11"><a href="data-manipulation.html#cb186-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">9</span><span class="op">-</span><span class="dv">24</span> <span class="dv">15</span>:<span class="dv">0</span><span class="er">9</span>:<span class="fl">07.055284</span></span>
<span id="cb186-12"><a href="data-manipulation.html#cb186-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d3 <span class="op">=</span> d1 <span class="op">-</span> dt.timedelta(hours <span class="op">=</span> <span class="dv">5</span>)</span>
<span id="cb186-13"><a href="data-manipulation.html#cb186-13" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="bu">print</span>(d3)</span>
<span id="cb186-14"><a href="data-manipulation.html#cb186-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2022</span><span class="op">-</span><span class="dv">0</span><span class="er">3</span><span class="op">-</span><span class="dv">23</span> <span class="dv">10</span>:<span class="dv">0</span><span class="er">9</span>:<span class="fl">07.055284</span></span></code></pre></div>
<p>Finally, we will discuss how to convert strings to datetime objects and vice versa.</p>
<p>The attribute <code>strftime()</code> converts datetime objects to strings. In the argument of <code>strftime()</code> can specify the format you would like.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb187-1"><a href="data-manipulation.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d1</span>
<span id="cb187-2"><a href="data-manipulation.html#cb187-2" aria-hidden="true" tabindex="-1"></a>datetime.datetime(<span class="dv">2022</span>, <span class="dv">3</span>, <span class="dv">23</span>, <span class="dv">15</span>, <span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">55284</span>)</span>
<span id="cb187-3"><a href="data-manipulation.html#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d1.strftime(<span class="st">&quot;%A %m %Y&quot;</span>)</span>
<span id="cb187-4"><a href="data-manipulation.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Wednesday 03 2022&#39;</span></span>
<span id="cb187-5"><a href="data-manipulation.html#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d1.strftime(<span class="st">&quot;%a %m %y&quot;</span>)</span>
<span id="cb187-6"><a href="data-manipulation.html#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;Wed 03 22&#39;</span></span></code></pre></div>
<p>The attribute <code>strptime()</code> converts strings into datetime objects. In the argument of <code>strptime()</code> you must specify the string and then the format of the string.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb188-1"><a href="data-manipulation.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> d4 <span class="op">=</span> <span class="st">&quot;27/10/98 11:03:9.033&quot;</span></span>
<span id="cb188-2"><a href="data-manipulation.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb188-3"><a href="data-manipulation.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> d1.strptime(d4, <span class="st">&quot;</span><span class="sc">%d</span><span class="st">/%m/%y %H:%M:%S.</span><span class="sc">%f</span><span class="st">&quot;</span>)</span>
<span id="cb188-4"><a href="data-manipulation.html#cb188-4" aria-hidden="true" tabindex="-1"></a>datetime.datetime(<span class="dv">1998</span>, <span class="dv">10</span>, <span class="dv">27</span>, <span class="dv">11</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">33000</span>)</span></code></pre></div>
</div>
<div id="r-28" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-28" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Dates in R can be stored as a Date class or a Date-Time class. Dates are stored as the number of days since January 1, 1970. Date-Times are stored as the number of seconds since January 1, 1970. With dates stored in this manner we can calculate elapsed time in units such as days, weeks, hours, minutes, and so forth.</p>
<p>Below are the dates of the first five NASA <a href="https://en.wikipedia.org/wiki/List_of_Space_Shuttle_missions#Shuttle_flights">Columbia Space Shuttle flights</a> entered as a character vector.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="data-manipulation.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> date <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;12 April 1981&quot;</span>, </span>
<span id="cb189-2"><a href="data-manipulation.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>           <span class="st">&quot;12 November 1981&quot;</span>, </span>
<span id="cb189-3"><a href="data-manipulation.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>           <span class="st">&quot;22 March 1982&quot;</span>, </span>
<span id="cb189-4"><a href="data-manipulation.html#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>           <span class="st">&quot;27 June 1982&quot;</span>, </span>
<span id="cb189-5"><a href="data-manipulation.html#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>           <span class="st">&quot;11 November 1982&quot;</span>)</span></code></pre></div>
<p>R does not immediately recognize these as a Date class. To format as a Date class, we can either use the base R <code>as.Date()</code> function or one of the convenience functions in the <strong>lubridate</strong> package. The <code>as.Date()</code> function requires a specified POSIX conversion specification as documented in <code>?strptime</code>. Below the conversion code “%d %B %Y” says Date is entered as two digit day of month (%d), full month name (%B), and year with century (%Y).</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data-manipulation.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> date1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(date, <span class="at">format =</span> <span class="st">&quot;%d %B %Y&quot;</span>)</span>
<span id="cb190-2"><a href="data-manipulation.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> date1</span>
<span id="cb190-3"><a href="data-manipulation.html#cb190-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1981-04-12&quot;</span> <span class="st">&quot;1981-11-12&quot;</span> <span class="st">&quot;1982-03-22&quot;</span> <span class="st">&quot;1982-06-27&quot;</span> <span class="st">&quot;1982-11-11&quot;</span></span></code></pre></div>
<p>The dates now print in year-month-date format, however they are stored internally as number of days since January 1, 1970. This can be seen by using <code>as.numeric()</code> on the “date1” vector.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="data-manipulation.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">as.numeric</span>(date1)</span>
<span id="cb191-2"><a href="data-manipulation.html#cb191-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4119</span> <span class="dv">4333</span> <span class="dv">4463</span> <span class="dv">4560</span> <span class="dv">4697</span></span></code></pre></div>
<p>The <strong>lubridate</strong> package provides a series of functions that are permutations of the letters “m”, “d”, and “y” to represent the order of date components. To format the original “date” vector, we use the <code>dmy()</code> function since the date components are ordered as day, month and year. Notice we must load the <strong>lubridate</strong> package to use this function.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="data-manipulation.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(lubridate)</span>
<span id="cb192-2"><a href="data-manipulation.html#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> date2 <span class="ot">&lt;-</span> <span class="fu">dmy</span>(date)</span>
<span id="cb192-3"><a href="data-manipulation.html#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> date2</span>
<span id="cb192-4"><a href="data-manipulation.html#cb192-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1981-04-12&quot;</span> <span class="st">&quot;1981-11-12&quot;</span> <span class="st">&quot;1982-03-22&quot;</span> <span class="st">&quot;1982-06-27&quot;</span> <span class="st">&quot;1982-11-11&quot;</span></span></code></pre></div>
<p>When dates are formatted we can easily extract information such as day of week or month. For example to extract the day of week of the launches as an ordered factor, we can use the <strong>lubridate</strong> function <code>wday()</code> with <code>label=TRUE</code> and <code>abbr = FALSE</code>.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="data-manipulation.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">wday</span>(date2, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)</span>
<span id="cb193-2"><a href="data-manipulation.html#cb193-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] Sunday   Thursday Monday   Sunday   Thursday</span>
<span id="cb193-3"><a href="data-manipulation.html#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> Levels<span class="sc">:</span> Sunday <span class="sc">&lt;</span> Monday <span class="sc">&lt;</span> Tuesday <span class="sc">&lt;</span> Wednesday <span class="sc">&lt;</span> Thursday <span class="sc">&lt;</span> ... <span class="sc">&lt;</span> Saturday</span></code></pre></div>
<p>To calculate elapsed time between launches in days we can use the base R <code>diff()</code> function.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="data-manipulation.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">diff</span>(date2)</span>
<span id="cb194-2"><a href="data-manipulation.html#cb194-2" aria-hidden="true" tabindex="-1"></a>Time differences <span class="cf">in</span> days</span>
<span id="cb194-3"><a href="data-manipulation.html#cb194-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">214</span> <span class="dv">130</span>  <span class="dv">97</span> <span class="dv">137</span></span></code></pre></div>
<p>To store a date as a Date-Time class we need to include a time component. Below are the first five Columbia launch dates with times. UTC refers to <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time">Universal Coordinated Time</a>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data-manipulation.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> datetime <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;12 April 1981 12:00:04 UTC&quot;</span>,</span>
<span id="cb195-2"><a href="data-manipulation.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>               <span class="st">&quot;12 November 1981 15:10:00 UTC&quot;</span>,</span>
<span id="cb195-3"><a href="data-manipulation.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>               <span class="st">&quot;22 March 1982 16:00:00 UTC&quot;</span>,</span>
<span id="cb195-4"><a href="data-manipulation.html#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>               <span class="st">&quot;27 June 1982 15:00:00 UTC&quot;</span>,</span>
<span id="cb195-5"><a href="data-manipulation.html#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>               <span class="st">&quot;11 November 1982 12:19:00 UTC&quot;</span>)</span></code></pre></div>
<p>To format as a Date-Time class we can use either the base R <code>as.POSIXct()</code> function or one of the convenience functions in the <strong>lubridate</strong> package. To use <code>as.POSIXct()</code> we need to include additional POSIX conversion specifications for the hour, minute and second of launch. The “%H:%M:%S” specification refers to hours, minutes and seconds. The <code>tz</code> argument specifies the time zone of the times.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="data-manipulation.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> datetime1 <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(datetime, </span>
<span id="cb196-2"><a href="data-manipulation.html#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                         <span class="at">format =</span> <span class="st">&quot;%d %B %Y %H:%M:%S&quot;</span>, </span>
<span id="cb196-3"><a href="data-manipulation.html#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                         <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span>
<span id="cb196-4"><a href="data-manipulation.html#cb196-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> datetime1</span>
<span id="cb196-5"><a href="data-manipulation.html#cb196-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1981-04-12 12:00:04 UTC&quot;</span> <span class="st">&quot;1981-11-12 15:10:00 UTC&quot;</span></span>
<span id="cb196-6"><a href="data-manipulation.html#cb196-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;1982-03-22 16:00:00 UTC&quot;</span> <span class="st">&quot;1982-06-27 15:00:00 UTC&quot;</span></span>
<span id="cb196-7"><a href="data-manipulation.html#cb196-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;1982-11-11 12:19:00 UTC&quot;</span></span></code></pre></div>
<p>When we use <code>as.numeric()</code> on the “datetime1” vector we see it is stored as number of seconds since January 1, 1970.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data-manipulation.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">as.numeric</span>(datetime1)</span>
<span id="cb197-2"><a href="data-manipulation.html#cb197-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">355924804</span> <span class="dv">374425800</span> <span class="dv">385660800</span> <span class="dv">394038000</span> <span class="dv">405865140</span></span></code></pre></div>
<p>Using <strong>lubridate</strong> we can append <code>_hms()</code> to any of the “mdy” functions to format dates with time components as a Date-Time class. Notice the default time zone in <strong>lubridate</strong> is UTC.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="data-manipulation.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> datetime2 <span class="ot">&lt;-</span> <span class="fu">dmy_hms</span>(datetime)</span>
<span id="cb198-2"><a href="data-manipulation.html#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> datetime2</span>
<span id="cb198-3"><a href="data-manipulation.html#cb198-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1981-04-12 12:00:04 UTC&quot;</span> <span class="st">&quot;1981-11-12 15:10:00 UTC&quot;</span></span>
<span id="cb198-4"><a href="data-manipulation.html#cb198-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;1982-03-22 16:00:00 UTC&quot;</span> <span class="st">&quot;1982-06-27 15:00:00 UTC&quot;</span></span>
<span id="cb198-5"><a href="data-manipulation.html#cb198-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;1982-11-11 12:19:00 UTC&quot;</span></span></code></pre></div>
<p>To calculate elapsed time between launches in hours, we can use the <strong>lubridate</strong> function <code>time_length()</code> with the <code>unit</code> set to “hours”. Below we use <code>diff()</code> and then pipe to <code>time_length()</code>.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data-manipulation.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">diff</span>(datetime2) <span class="sc">|&gt;</span> <span class="fu">time_length</span>(<span class="at">unit =</span> <span class="st">&quot;hours&quot;</span>)</span>
<span id="cb199-2"><a href="data-manipulation.html#cb199-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5139.166</span> <span class="fl">3120.833</span> <span class="fl">2327.000</span> <span class="fl">3285.317</span></span></code></pre></div>
<p>For more information on working with dates and times in R, see the vignette accompanying the <strong>lubridate</strong> package.</p>
</div>
</div>
<div id="randomly-sample-rows" class="section level2 hasAnchor" number="4.13">
<h2><span class="header-section-number">4.13</span> Randomly sample rows<a href="data-manipulation.html#randomly-sample-rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How to take a random sample of rows from a data frame. The sample is usually either a fixed size or a proportion.</p>
<div id="python-29" class="section level4 unnumbered hasAnchor">
<h4>Python<a href="data-manipulation.html#python-29" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The pandas package provide a function for taking a sample of fixed size or a proportion. To sample with replacement, set <code>replace = TRUE</code>.</p>
<p>Additionally, the random sample will change every time the code is run. To always generate the same “random” sample, set <code>random_state</code> to any positive integer.</p>
<p>To create a sample with a fixed number of rows, use the <code>n</code> argument.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb200-1"><a href="data-manipulation.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># sample 5 rows from mtcars</span></span>
<span id="cb200-2"><a href="data-manipulation.html#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.sample(n<span class="op">=</span><span class="dv">5</span>, replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb200-3"><a href="data-manipulation.html#cb200-3" aria-hidden="true" tabindex="-1"></a>     MPG  CYL   DISP   HP  AXLE_RATIO  ...  VS  AM  GEAR CARB       KPL</span>
<span id="cb200-4"><a href="data-manipulation.html#cb200-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">18.1</span>    <span class="dv">6</span>  <span class="fl">225.0</span>  <span class="dv">105</span>        <span class="fl">2.76</span>  ...   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">1</span>  <span class="fl">3.847789</span></span>
<span id="cb200-5"><a href="data-manipulation.html#cb200-5" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>  <span class="fl">27.3</span>    <span class="dv">4</span>   <span class="fl">79.0</span>   <span class="dv">66</span>        <span class="fl">4.08</span>  ...   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>    <span class="dv">1</span>  <span class="fl">5.803571</span></span>
<span id="cb200-6"><a href="data-manipulation.html#cb200-6" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span>    <span class="dv">8</span>  <span class="fl">301.0</span>  <span class="dv">335</span>        <span class="fl">3.54</span>  ...   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>    <span class="dv">8</span>  <span class="fl">3.188776</span></span>
<span id="cb200-7"><a href="data-manipulation.html#cb200-7" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">19.2</span>    <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>        <span class="fl">3.92</span>  ...   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>    <span class="dv">4</span>  <span class="fl">4.081633</span></span>
<span id="cb200-8"><a href="data-manipulation.html#cb200-8" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>  <span class="fl">19.2</span>    <span class="dv">8</span>  <span class="fl">400.0</span>  <span class="dv">175</span>        <span class="fl">3.08</span>  ...   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">2</span>  <span class="fl">4.081633</span></span>
<span id="cb200-9"><a href="data-manipulation.html#cb200-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-10"><a href="data-manipulation.html#cb200-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span> rows x <span class="dv">12</span> columns]</span></code></pre></div>
<p>To create a sample of a proportion, use the <code>frac</code> argument.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb201-1"><a href="data-manipulation.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># sample 20% of rows from mtcars</span></span>
<span id="cb201-2"><a href="data-manipulation.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.sample(frac <span class="op">=</span> <span class="fl">0.20</span>, random_state<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb201-3"><a href="data-manipulation.html#cb201-3" aria-hidden="true" tabindex="-1"></a>     MPG  CYL   DISP   HP  AXLE_RATIO  ...  VS  AM  GEAR CARB       KPL</span>
<span id="cb201-4"><a href="data-manipulation.html#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>  <span class="fl">30.4</span>    <span class="dv">4</span>   <span class="fl">95.1</span>  <span class="dv">113</span>        <span class="fl">3.77</span>  ...   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">5</span>    <span class="dv">2</span>  <span class="fl">6.462585</span></span>
<span id="cb201-5"><a href="data-manipulation.html#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">21.4</span>    <span class="dv">6</span>  <span class="fl">258.0</span>  <span class="dv">110</span>        <span class="fl">3.08</span>  ...   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">1</span>  <span class="fl">4.549320</span></span>
<span id="cb201-6"><a href="data-manipulation.html#cb201-6" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>  <span class="fl">15.2</span>    <span class="dv">8</span>  <span class="fl">304.0</span>  <span class="dv">150</span>        <span class="fl">3.15</span>  ...   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">2</span>  <span class="fl">3.231293</span></span>
<span id="cb201-7"><a href="data-manipulation.html#cb201-7" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>  <span class="fl">30.4</span>    <span class="dv">4</span>   <span class="fl">75.7</span>   <span class="dv">52</span>        <span class="fl">4.93</span>  ...   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>    <span class="dv">2</span>  <span class="fl">6.462585</span></span>
<span id="cb201-8"><a href="data-manipulation.html#cb201-8" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>  <span class="fl">13.3</span>    <span class="dv">8</span>  <span class="fl">350.0</span>  <span class="dv">245</span>        <span class="fl">3.73</span>  ...   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">4</span>  <span class="fl">2.827381</span></span>
<span id="cb201-9"><a href="data-manipulation.html#cb201-9" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>  <span class="fl">32.4</span>    <span class="dv">4</span>   <span class="fl">78.7</span>   <span class="dv">66</span>        <span class="fl">4.08</span>  ...   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>    <span class="dv">1</span>  <span class="fl">6.887755</span></span>
<span id="cb201-10"><a href="data-manipulation.html#cb201-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-11"><a href="data-manipulation.html#cb201-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">6</span> rows x <span class="dv">12</span> columns]</span></code></pre></div>
<p>The numpy function <code>random.choice()</code> in combination with the <code>loc()</code> function can be used to sample from a DataFrame.</p>
<p>The <code>random.choice()</code> function creates a random sample according to the given parameters. The <code>loc()</code> function is used to access rows and columns by index.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb202-1"><a href="data-manipulation.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># import the numpy package</span></span>
<span id="cb202-2"><a href="data-manipulation.html#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb202-3"><a href="data-manipulation.html#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb202-4"><a href="data-manipulation.html#cb202-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># create a random sample of size 5 with replacement</span></span>
<span id="cb202-5"><a href="data-manipulation.html#cb202-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> random_sample <span class="op">=</span> np.random.choice(<span class="bu">len</span>(mtcars), (<span class="dv">5</span>,), replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb202-6"><a href="data-manipulation.html#cb202-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb202-7"><a href="data-manipulation.html#cb202-7" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># use random_sample to sample from mtcars</span></span>
<span id="cb202-8"><a href="data-manipulation.html#cb202-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.loc[random_sample,]</span>
<span id="cb202-9"><a href="data-manipulation.html#cb202-9" aria-hidden="true" tabindex="-1"></a>     MPG  CYL   DISP   HP  AXLE_RATIO  ...  VS  AM  GEAR CARB       KPL</span>
<span id="cb202-10"><a href="data-manipulation.html#cb202-10" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  <span class="fl">17.3</span>    <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>        <span class="fl">3.07</span>  ...   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">3</span>  <span class="fl">3.677721</span></span>
<span id="cb202-11"><a href="data-manipulation.html#cb202-11" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>  <span class="fl">33.9</span>    <span class="dv">4</span>   <span class="fl">71.1</span>   <span class="dv">65</span>        <span class="fl">4.22</span>  ...   <span class="dv">1</span>   <span class="dv">1</span>     <span class="dv">4</span>    <span class="dv">1</span>  <span class="fl">7.206633</span></span>
<span id="cb202-12"><a href="data-manipulation.html#cb202-12" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>  <span class="fl">19.7</span>    <span class="dv">6</span>  <span class="fl">145.0</span>  <span class="dv">175</span>        <span class="fl">3.62</span>  ...   <span class="dv">0</span>   <span class="dv">1</span>     <span class="dv">5</span>    <span class="dv">6</span>  <span class="fl">4.187925</span></span>
<span id="cb202-13"><a href="data-manipulation.html#cb202-13" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>  <span class="fl">15.5</span>    <span class="dv">8</span>  <span class="fl">318.0</span>  <span class="dv">150</span>        <span class="fl">2.76</span>  ...   <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">3</span>    <span class="dv">2</span>  <span class="fl">3.295068</span></span>
<span id="cb202-14"><a href="data-manipulation.html#cb202-14" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">19.2</span>    <span class="dv">6</span>  <span class="fl">167.6</span>  <span class="dv">123</span>        <span class="fl">3.92</span>  ...   <span class="dv">1</span>   <span class="dv">0</span>     <span class="dv">4</span>    <span class="dv">4</span>  <span class="fl">4.081633</span></span>
<span id="cb202-15"><a href="data-manipulation.html#cb202-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-16"><a href="data-manipulation.html#cb202-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span> rows x <span class="dv">12</span> columns]</span></code></pre></div>
<p>The random sample will change every time the code is run. To always generate the same “random” sample, use the <code>random.seed()</code> function with any positive integer.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb203-1"><a href="data-manipulation.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># setting seed to always get same random sample</span></span>
<span id="cb203-2"><a href="data-manipulation.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> np.random.seed(<span class="dv">123</span>)</span>
<span id="cb203-3"><a href="data-manipulation.html#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> </span>
<span id="cb203-4"><a href="data-manipulation.html#cb203-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="co"># create a random sample of size 5 with replacement</span></span>
<span id="cb203-5"><a href="data-manipulation.html#cb203-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> sample <span class="op">=</span> np.random.choice(<span class="bu">len</span>(mtcars), (<span class="dv">5</span>,), replace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb203-6"><a href="data-manipulation.html#cb203-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars.loc[sample,]</span>
<span id="cb203-7"><a href="data-manipulation.html#cb203-7" aria-hidden="true" tabindex="-1"></a>     MPG  CYL   DISP   HP  AXLE_RATIO    WT   QSEC  VS AM  GEAR  CARB       KPL</span>
<span id="cb203-8"><a href="data-manipulation.html#cb203-8" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span>    <span class="dv">8</span>  <span class="fl">301.0</span>  <span class="dv">335</span>        <span class="fl">3.54</span>  <span class="fl">3.57</span>  <span class="fl">14.60</span>   <span class="dv">0</span>  <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">8</span>  <span class="fl">3.188776</span></span>
<span id="cb203-9"><a href="data-manipulation.html#cb203-9" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>  <span class="fl">15.2</span>    <span class="dv">8</span>  <span class="fl">275.8</span>  <span class="dv">180</span>        <span class="fl">3.07</span>  <span class="fl">3.78</span>  <span class="fl">18.00</span>   <span class="dv">0</span>  <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">3</span>  <span class="fl">3.231293</span></span>
<span id="cb203-10"><a href="data-manipulation.html#cb203-10" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>  <span class="fl">15.0</span>    <span class="dv">8</span>  <span class="fl">301.0</span>  <span class="dv">335</span>        <span class="fl">3.54</span>  <span class="fl">3.57</span>  <span class="fl">14.60</span>   <span class="dv">0</span>  <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">8</span>  <span class="fl">3.188776</span></span>
<span id="cb203-11"><a href="data-manipulation.html#cb203-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">22.8</span>    <span class="dv">4</span>  <span class="fl">108.0</span>   <span class="dv">93</span>        <span class="fl">3.85</span>  <span class="fl">2.32</span>  <span class="fl">18.61</span>   <span class="dv">1</span>  <span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">1</span>  <span class="fl">4.846939</span></span>
<span id="cb203-12"><a href="data-manipulation.html#cb203-12" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>  <span class="fl">15.8</span>    <span class="dv">8</span>  <span class="fl">351.0</span>  <span class="dv">264</span>        <span class="fl">4.22</span>  <span class="fl">3.17</span>  <span class="fl">14.50</span>   <span class="dv">0</span>  <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">4</span>  <span class="fl">3.358844</span></span></code></pre></div>
</div>
<div id="r-29" class="section level4 unnumbered hasAnchor">
<h4>R<a href="data-manipulation.html#r-29" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are many ways to sample rows from a data frame in R. The <a href="https://dplyr.tidyverse.org/"><strong>dplyr</strong></a> package provides a convenience function, <code>slice_sample()</code>, for taking either a fixed sample size or a proportion.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="data-manipulation.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># sample 5 rows from mtcars</span></span>
<span id="cb204-2"><a href="data-manipulation.html#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> dplyr<span class="sc">::</span><span class="fu">slice_sample</span>(mtcars, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb204-3"><a href="data-manipulation.html#cb204-3" aria-hidden="true" tabindex="-1"></a>   mpg cylinders  disp  hp axle_ratio weight  qsec engine am gear carb am_ch</span>
<span id="cb204-4"><a href="data-manipulation.html#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">14.7</span>         <span class="dv">8</span> <span class="fl">440.0</span> <span class="dv">230</span>       <span class="fl">3.23</span>  <span class="fl">5.345</span> <span class="fl">17.42</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb204-5"><a href="data-manipulation.html#cb204-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">19.2</span>         <span class="dv">8</span> <span class="fl">400.0</span> <span class="dv">175</span>       <span class="fl">3.08</span>  <span class="fl">3.845</span> <span class="fl">17.05</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb204-6"><a href="data-manipulation.html#cb204-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">33.9</span>         <span class="dv">4</span>  <span class="fl">71.1</span>  <span class="dv">65</span>       <span class="fl">4.22</span>  <span class="fl">1.835</span> <span class="fl">19.90</span>      <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span>     <span class="dv">1</span></span>
<span id="cb204-7"><a href="data-manipulation.html#cb204-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">24.4</span>         <span class="dv">4</span> <span class="fl">146.7</span>  <span class="dv">62</span>       <span class="fl">3.69</span>  <span class="fl">3.190</span> <span class="fl">20.00</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">4</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb204-8"><a href="data-manipulation.html#cb204-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="fl">10.4</span>         <span class="dv">8</span> <span class="fl">472.0</span> <span class="dv">205</span>       <span class="fl">2.93</span>  <span class="fl">5.250</span> <span class="fl">17.98</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb204-9"><a href="data-manipulation.html#cb204-9" aria-hidden="true" tabindex="-1"></a>     am_fac</span>
<span id="cb204-10"><a href="data-manipulation.html#cb204-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> automatic</span>
<span id="cb204-11"><a href="data-manipulation.html#cb204-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> automatic</span>
<span id="cb204-12"><a href="data-manipulation.html#cb204-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    manual</span>
<span id="cb204-13"><a href="data-manipulation.html#cb204-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> automatic</span>
<span id="cb204-14"><a href="data-manipulation.html#cb204-14" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> automatic</span>
<span id="cb204-15"><a href="data-manipulation.html#cb204-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb204-16"><a href="data-manipulation.html#cb204-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># sample 20% of rows from mtcars</span></span>
<span id="cb204-17"><a href="data-manipulation.html#cb204-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> dplyr<span class="sc">::</span><span class="fu">slice_sample</span>(mtcars, <span class="at">prop =</span> <span class="fl">0.20</span>)</span>
<span id="cb204-18"><a href="data-manipulation.html#cb204-18" aria-hidden="true" tabindex="-1"></a>   mpg cylinders  disp  hp axle_ratio weight  qsec engine am gear carb am_ch</span>
<span id="cb204-19"><a href="data-manipulation.html#cb204-19" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">15.8</span>         <span class="dv">8</span> <span class="fl">351.0</span> <span class="dv">264</span>       <span class="fl">4.22</span>  <span class="fl">3.170</span> <span class="fl">14.50</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb204-20"><a href="data-manipulation.html#cb204-20" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">19.2</span>         <span class="dv">8</span> <span class="fl">400.0</span> <span class="dv">175</span>       <span class="fl">3.08</span>  <span class="fl">3.845</span> <span class="fl">17.05</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb204-21"><a href="data-manipulation.html#cb204-21" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">21.4</span>         <span class="dv">6</span> <span class="fl">258.0</span> <span class="dv">110</span>       <span class="fl">3.08</span>  <span class="fl">3.215</span> <span class="fl">19.44</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb204-22"><a href="data-manipulation.html#cb204-22" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">22.8</span>         <span class="dv">4</span> <span class="fl">140.8</span>  <span class="dv">95</span>       <span class="fl">3.92</span>  <span class="fl">3.150</span> <span class="fl">22.90</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">4</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb204-23"><a href="data-manipulation.html#cb204-23" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="fl">21.0</span>         <span class="dv">6</span> <span class="fl">160.0</span> <span class="dv">110</span>       <span class="fl">3.90</span>  <span class="fl">2.620</span> <span class="fl">16.46</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb204-24"><a href="data-manipulation.html#cb204-24" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="fl">14.3</span>         <span class="dv">8</span> <span class="fl">360.0</span> <span class="dv">245</span>       <span class="fl">3.21</span>  <span class="fl">3.570</span> <span class="fl">15.84</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb204-25"><a href="data-manipulation.html#cb204-25" aria-hidden="true" tabindex="-1"></a>     am_fac</span>
<span id="cb204-26"><a href="data-manipulation.html#cb204-26" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    manual</span>
<span id="cb204-27"><a href="data-manipulation.html#cb204-27" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> automatic</span>
<span id="cb204-28"><a href="data-manipulation.html#cb204-28" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> automatic</span>
<span id="cb204-29"><a href="data-manipulation.html#cb204-29" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> automatic</span>
<span id="cb204-30"><a href="data-manipulation.html#cb204-30" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    manual</span>
<span id="cb204-31"><a href="data-manipulation.html#cb204-31" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> automatic</span></code></pre></div>
<p>To sample with replacement, set <code>replace = TRUE</code>.</p>
<p>The base R functions <code>sample()</code> and <code>runif()</code> can be combined to sample fixed sizes or approximate proportions.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="data-manipulation.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># sample 5 rows from mtcars</span></span>
<span id="cb205-2"><a href="data-manipulation.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># get random row numbers</span></span>
<span id="cb205-3"><a href="data-manipulation.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(mtcars), <span class="at">size =</span> <span class="dv">5</span>)</span>
<span id="cb205-4"><a href="data-manipulation.html#cb205-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># use i to select rows</span></span>
<span id="cb205-5"><a href="data-manipulation.html#cb205-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars[i,]</span>
<span id="cb205-6"><a href="data-manipulation.html#cb205-6" aria-hidden="true" tabindex="-1"></a>    mpg cylinders  disp  hp axle_ratio weight  qsec engine am gear carb am_ch</span>
<span id="cb205-7"><a href="data-manipulation.html#cb205-7" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="fl">17.3</span>         <span class="dv">8</span> <span class="fl">275.8</span> <span class="dv">180</span>       <span class="fl">3.07</span>  <span class="fl">3.730</span> <span class="fl">17.60</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb205-8"><a href="data-manipulation.html#cb205-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="fl">21.4</span>         <span class="dv">6</span> <span class="fl">258.0</span> <span class="dv">110</span>       <span class="fl">3.08</span>  <span class="fl">3.215</span> <span class="fl">19.44</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb205-9"><a href="data-manipulation.html#cb205-9" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> <span class="fl">15.8</span>         <span class="dv">8</span> <span class="fl">351.0</span> <span class="dv">264</span>       <span class="fl">4.22</span>  <span class="fl">3.170</span> <span class="fl">14.50</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb205-10"><a href="data-manipulation.html#cb205-10" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> <span class="fl">21.5</span>         <span class="dv">4</span> <span class="fl">120.1</span>  <span class="dv">97</span>       <span class="fl">3.70</span>  <span class="fl">2.465</span> <span class="fl">20.01</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb205-11"><a href="data-manipulation.html#cb205-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="fl">18.7</span>         <span class="dv">8</span> <span class="fl">360.0</span> <span class="dv">175</span>       <span class="fl">3.15</span>  <span class="fl">3.440</span> <span class="fl">17.02</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb205-12"><a href="data-manipulation.html#cb205-12" aria-hidden="true" tabindex="-1"></a>      am_fac</span>
<span id="cb205-13"><a href="data-manipulation.html#cb205-13" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> automatic</span>
<span id="cb205-14"><a href="data-manipulation.html#cb205-14" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  automatic</span>
<span id="cb205-15"><a href="data-manipulation.html#cb205-15" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>    manual</span>
<span id="cb205-16"><a href="data-manipulation.html#cb205-16" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> automatic</span>
<span id="cb205-17"><a href="data-manipulation.html#cb205-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  automatic</span></code></pre></div>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="data-manipulation.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># sample about 20% of rows from mtcars</span></span>
<span id="cb206-2"><a href="data-manipulation.html#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># generate random values on range of [0,1]</span></span>
<span id="cb206-3"><a href="data-manipulation.html#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> i <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="fu">nrow</span>(mtcars))</span>
<span id="cb206-4"><a href="data-manipulation.html#cb206-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># use i &lt; 0.20 logical vector to </span></span>
<span id="cb206-5"><a href="data-manipulation.html#cb206-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># select rows that correspond to TRUE</span></span>
<span id="cb206-6"><a href="data-manipulation.html#cb206-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> mtcars[i <span class="sc">&lt;</span> <span class="fl">0.20</span>,]</span>
<span id="cb206-7"><a href="data-manipulation.html#cb206-7" aria-hidden="true" tabindex="-1"></a>    mpg cylinders  disp  hp axle_ratio weight  qsec engine am gear carb am_ch</span>
<span id="cb206-8"><a href="data-manipulation.html#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="fl">18.7</span>         <span class="dv">8</span> <span class="fl">360.0</span> <span class="dv">175</span>       <span class="fl">3.15</span>   <span class="fl">3.44</span> <span class="fl">17.02</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb206-9"><a href="data-manipulation.html#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="fl">14.3</span>         <span class="dv">8</span> <span class="fl">360.0</span> <span class="dv">245</span>       <span class="fl">3.21</span>   <span class="fl">3.57</span> <span class="fl">15.84</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb206-10"><a href="data-manipulation.html#cb206-10" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="fl">16.4</span>         <span class="dv">8</span> <span class="fl">275.8</span> <span class="dv">180</span>       <span class="fl">3.07</span>   <span class="fl">4.07</span> <span class="fl">17.40</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb206-11"><a href="data-manipulation.html#cb206-11" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="fl">17.3</span>         <span class="dv">8</span> <span class="fl">275.8</span> <span class="dv">180</span>       <span class="fl">3.07</span>   <span class="fl">3.73</span> <span class="fl">17.60</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb206-12"><a href="data-manipulation.html#cb206-12" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span> <span class="fl">13.3</span>         <span class="dv">8</span> <span class="fl">350.0</span> <span class="dv">245</span>       <span class="fl">3.73</span>   <span class="fl">3.84</span> <span class="fl">15.41</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb206-13"><a href="data-manipulation.html#cb206-13" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> <span class="fl">26.0</span>         <span class="dv">4</span> <span class="fl">120.3</span>  <span class="dv">91</span>       <span class="fl">4.43</span>   <span class="fl">2.14</span> <span class="fl">16.70</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span>     <span class="dv">1</span></span>
<span id="cb206-14"><a href="data-manipulation.html#cb206-14" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span> <span class="fl">15.0</span>         <span class="dv">8</span> <span class="fl">301.0</span> <span class="dv">335</span>       <span class="fl">3.54</span>   <span class="fl">3.57</span> <span class="fl">14.60</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">8</span>     <span class="dv">1</span></span>
<span id="cb206-15"><a href="data-manipulation.html#cb206-15" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span> <span class="fl">21.4</span>         <span class="dv">4</span> <span class="fl">121.0</span> <span class="dv">109</span>       <span class="fl">4.11</span>   <span class="fl">2.78</span> <span class="fl">18.60</span>      <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span>     <span class="dv">1</span></span>
<span id="cb206-16"><a href="data-manipulation.html#cb206-16" aria-hidden="true" tabindex="-1"></a>      am_fac</span>
<span id="cb206-17"><a href="data-manipulation.html#cb206-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  automatic</span>
<span id="cb206-18"><a href="data-manipulation.html#cb206-18" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  automatic</span>
<span id="cb206-19"><a href="data-manipulation.html#cb206-19" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> automatic</span>
<span id="cb206-20"><a href="data-manipulation.html#cb206-20" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> automatic</span>
<span id="cb206-21"><a href="data-manipulation.html#cb206-21" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span> automatic</span>
<span id="cb206-22"><a href="data-manipulation.html#cb206-22" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>    manual</span>
<span id="cb206-23"><a href="data-manipulation.html#cb206-23" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>    manual</span>
<span id="cb206-24"><a href="data-manipulation.html#cb206-24" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span>    manual</span></code></pre></div>
<p>The random sample will change every time the code is run. To always generate the same “random” sample, use the <code>set.seed()</code> function with any positive integer.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="data-manipulation.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># always get the same random sample</span></span>
<span id="cb207-2"><a href="data-manipulation.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb207-3"><a href="data-manipulation.html#cb207-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> i <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="fu">nrow</span>(mtcars))</span>
<span id="cb207-4"><a href="data-manipulation.html#cb207-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars[i <span class="sc">&lt;</span> <span class="fl">0.20</span>,]</span>
<span id="cb207-5"><a href="data-manipulation.html#cb207-5" aria-hidden="true" tabindex="-1"></a>    mpg cylinders  disp  hp axle_ratio weight  qsec engine am gear carb am_ch</span>
<span id="cb207-6"><a href="data-manipulation.html#cb207-6" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="fl">18.1</span>         <span class="dv">6</span> <span class="fl">225.0</span> <span class="dv">105</span>       <span class="fl">2.76</span>   <span class="fl">3.46</span> <span class="fl">20.22</span>      <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb207-7"><a href="data-manipulation.html#cb207-7" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="fl">10.4</span>         <span class="dv">8</span> <span class="fl">472.0</span> <span class="dv">205</span>       <span class="fl">2.93</span>   <span class="fl">5.25</span> <span class="fl">17.98</span>      <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb207-8"><a href="data-manipulation.html#cb207-8" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="fl">32.4</span>         <span class="dv">4</span>  <span class="fl">78.7</span>  <span class="dv">66</span>       <span class="fl">4.08</span>   <span class="fl">2.20</span> <span class="fl">19.47</span>      <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span>     <span class="dv">1</span></span>
<span id="cb207-9"><a href="data-manipulation.html#cb207-9" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> <span class="fl">19.7</span>         <span class="dv">6</span> <span class="fl">145.0</span> <span class="dv">175</span>       <span class="fl">3.62</span>   <span class="fl">2.77</span> <span class="fl">15.50</span>      <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">6</span>     <span class="dv">1</span></span>
<span id="cb207-10"><a href="data-manipulation.html#cb207-10" aria-hidden="true" tabindex="-1"></a>      am_fac</span>
<span id="cb207-11"><a href="data-manipulation.html#cb207-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  automatic</span>
<span id="cb207-12"><a href="data-manipulation.html#cb207-12" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> automatic</span>
<span id="cb207-13"><a href="data-manipulation.html#cb207-13" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>    manual</span>
<span id="cb207-14"><a href="data-manipulation.html#cb207-14" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>    manual</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="import-export-and-save-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="combine-reshape-and-merge.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/uvastatlab/Python_and_R/edit/main/04-data-manipulation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
