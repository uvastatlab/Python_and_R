<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Manipulation | Python and R</title>
  <meta name="description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Manipulation | Python and R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  <meta name="github-repo" content="uvastatlab/Python_and_R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Manipulation | Python and R" />
  
  <meta name="twitter:description" content="This book provides parallel examples in Python and R to help users of one platform more easily transition to the other." />
  

<meta name="author" content="Clay Ford" />


<meta name="date" content="2021-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="importing-data.html"/>
<link rel="next" href="combine-reshape-and-merge.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>1</b> Basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basics.html"><a href="basics.html#math"><i class="fa fa-check"></i><b>1.1</b> Math</a></li>
<li class="chapter" data-level="1.2" data-path="basics.html"><a href="basics.html#assignment"><i class="fa fa-check"></i><b>1.2</b> Assignment</a></li>
<li class="chapter" data-level="1.3" data-path="basics.html"><a href="basics.html#printing-a-value"><i class="fa fa-check"></i><b>1.3</b> Printing a value</a></li>
<li class="chapter" data-level="1.4" data-path="basics.html"><a href="basics.html#packages-and-libraries"><i class="fa fa-check"></i><b>1.4</b> Packages and Libraries</a></li>
<li class="chapter" data-level="1.5" data-path="basics.html"><a href="basics.html#generating-a-sequence-of-values"><i class="fa fa-check"></i><b>1.5</b> Generating a sequence of values</a></li>
<li class="chapter" data-level="1.6" data-path="basics.html"><a href="basics.html#calculating-means-and-medians"><i class="fa fa-check"></i><b>1.6</b> Calculating means and medians</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>2</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-structures.html"><a href="data-structures.html#one-dimensional-data"><i class="fa fa-check"></i><b>2.1</b> One-dimensional data</a></li>
<li class="chapter" data-level="2.2" data-path="data-structures.html"><a href="data-structures.html#two-dimensional"><i class="fa fa-check"></i><b>2.2</b> Two-dimensional</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3</b> Importing Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="importing-data.html"><a href="importing-data.html#csv"><i class="fa fa-check"></i><b>3.1</b> CSV</a></li>
<li class="chapter" data-level="3.2" data-path="importing-data.html"><a href="importing-data.html#xlsxlsx-excel"><i class="fa fa-check"></i><b>3.2</b> XLS/XLSX (Excel)</a></li>
<li class="chapter" data-level="3.3" data-path="importing-data.html"><a href="importing-data.html#text"><i class="fa fa-check"></i><b>3.3</b> Text</a></li>
<li class="chapter" data-level="3.4" data-path="importing-data.html"><a href="importing-data.html#json"><i class="fa fa-check"></i><b>3.4</b> JSON</a></li>
<li class="chapter" data-level="3.5" data-path="importing-data.html"><a href="importing-data.html#xml"><i class="fa fa-check"></i><b>3.5</b> XML</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#names-of-variables-and-their-types"><i class="fa fa-check"></i><b>4.1</b> Names of variables and their types</a></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename-variables"><i class="fa fa-check"></i><b>4.2</b> Rename variables</a></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#create-strings-from-numbers"><i class="fa fa-check"></i><b>4.3</b> Create strings from numbers</a></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation.html"><a href="data-manipulation.html#create-numbers-from-strings"><i class="fa fa-check"></i><b>4.4</b> Create numbers from strings</a></li>
<li class="chapter" data-level="4.5" data-path="data-manipulation.html"><a href="data-manipulation.html#change-case"><i class="fa fa-check"></i><b>4.5</b> Change case</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html"><i class="fa fa-check"></i><b>5</b> Combine, Reshape and Merge</a>
<ul>
<li class="chapter" data-level="5.1" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#combine-rows"><i class="fa fa-check"></i><b>5.1</b> Combine rows</a></li>
<li class="chapter" data-level="5.2" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#combine-columns"><i class="fa fa-check"></i><b>5.2</b> Combine columns</a></li>
<li class="chapter" data-level="5.3" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#reshape-wide-to-long"><i class="fa fa-check"></i><b>5.3</b> Reshape wide to long</a></li>
<li class="chapter" data-level="5.4" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#reshape-long-to-wide"><i class="fa fa-check"></i><b>5.4</b> Reshape long to wide</a></li>
<li class="chapter" data-level="5.5" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#mergejoin"><i class="fa fa-check"></i><b>5.5</b> Merge/Join</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#left-join"><i class="fa fa-check"></i><b>5.5.1</b> Left Join</a></li>
<li class="chapter" data-level="5.5.2" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#right-join"><i class="fa fa-check"></i><b>5.5.2</b> Right Join</a></li>
<li class="chapter" data-level="5.5.3" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#inner-join"><i class="fa fa-check"></i><b>5.5.3</b> Inner Join</a></li>
<li class="chapter" data-level="5.5.4" data-path="combine-reshape-and-merge.html"><a href="combine-reshape-and-merge.html#outer-join"><i class="fa fa-check"></i><b>5.5.4</b> Outer Join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-manipulation" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Manipulation</h1>
<p>This chapter looks at various strategies for modifying and deriving variables in data. Unless otherwise stated, examples are for DataFrames (Python) and data frames (R) and use the mtcars data frame that is included with R.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="data-manipulation.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="co"># Python</span></span>
<span id="cb20-2"><a href="data-manipulation.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> <span class="im">import</span> pandas</span>
<span id="cb20-3"><a href="data-manipulation.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> mtcars <span class="op">=</span> pandas.read_csv(<span class="st">&#39;data/mtcars.csv&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-manipulation.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># R</span></span>
<span id="cb21-2"><a href="data-manipulation.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">data</span>(mtcars)</span></code></pre></div>
<div id="names-of-variables-and-their-types" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Names of variables and their types</h2>
<p>View and inspect the names of variables and their type (numeric, string, logical, etc.) This is useful to ensure that variables have the expected type.</p>
<div id="python-13" class="section level4 unnumbered">
<h4>Python</h4>
</div>
<div id="r-13" class="section level4 unnumbered">
<h4>R</h4>
<p>The <code>str()</code> function in R lists the names of the variables, their type, the first few values, and the dimensions of the data frame.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-manipulation.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">str</span>(mtcars)</span>
<span id="cb22-2"><a href="data-manipulation.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">32</span> obs. of  <span class="dv">11</span> variables<span class="sc">:</span></span>
<span id="cb22-3"><a href="data-manipulation.html#cb22-3" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> mpg <span class="sc">:</span> num  <span class="dv">21</span> <span class="dv">21</span> <span class="fl">22.8</span> <span class="fl">21.4</span> <span class="fl">18.7</span> <span class="fl">18.1</span> <span class="fl">14.3</span> <span class="fl">24.4</span> <span class="fl">22.8</span> <span class="fl">19.2</span> ...</span>
<span id="cb22-4"><a href="data-manipulation.html#cb22-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> cyl <span class="sc">:</span> num  <span class="dv">6</span> <span class="dv">6</span> <span class="dv">4</span> <span class="dv">6</span> <span class="dv">8</span> <span class="dv">6</span> <span class="dv">8</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">6</span> ...</span>
<span id="cb22-5"><a href="data-manipulation.html#cb22-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> disp<span class="sc">:</span> num  <span class="dv">160</span> <span class="dv">160</span> <span class="dv">108</span> <span class="dv">258</span> <span class="dv">360</span> ...</span>
<span id="cb22-6"><a href="data-manipulation.html#cb22-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> hp  <span class="sc">:</span> num  <span class="dv">110</span> <span class="dv">110</span> <span class="dv">93</span> <span class="dv">110</span> <span class="dv">175</span> <span class="dv">105</span> <span class="dv">245</span> <span class="dv">62</span> <span class="dv">95</span> <span class="dv">123</span> ...</span>
<span id="cb22-7"><a href="data-manipulation.html#cb22-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> drat<span class="sc">:</span> num  <span class="fl">3.9</span> <span class="fl">3.9</span> <span class="fl">3.85</span> <span class="fl">3.08</span> <span class="fl">3.15</span> <span class="fl">2.76</span> <span class="fl">3.21</span> <span class="fl">3.69</span> <span class="fl">3.92</span> <span class="fl">3.92</span> ...</span>
<span id="cb22-8"><a href="data-manipulation.html#cb22-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> wt  <span class="sc">:</span> num  <span class="fl">2.62</span> <span class="fl">2.88</span> <span class="fl">2.32</span> <span class="fl">3.21</span> <span class="fl">3.44</span> ...</span>
<span id="cb22-9"><a href="data-manipulation.html#cb22-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> qsec<span class="sc">:</span> num  <span class="fl">16.5</span> <span class="dv">17</span> <span class="fl">18.6</span> <span class="fl">19.4</span> <span class="dv">17</span> ...</span>
<span id="cb22-10"><a href="data-manipulation.html#cb22-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> vs  <span class="sc">:</span> num  <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb22-11"><a href="data-manipulation.html#cb22-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> am  <span class="sc">:</span> num  <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> ...</span>
<span id="cb22-12"><a href="data-manipulation.html#cb22-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> gear<span class="sc">:</span> num  <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">4</span> ...</span>
<span id="cb22-13"><a href="data-manipulation.html#cb22-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> carb<span class="sc">:</span> num  <span class="dv">4</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">4</span> ...</span></code></pre></div>
<p>To see just the names of the data frame, use the <code>names()</code> function.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-manipulation.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb23-2"><a href="data-manipulation.html#cb23-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>  <span class="st">&quot;cyl&quot;</span>  <span class="st">&quot;disp&quot;</span> <span class="st">&quot;hp&quot;</span>   <span class="st">&quot;drat&quot;</span> <span class="st">&quot;wt&quot;</span>   <span class="st">&quot;qsec&quot;</span> <span class="st">&quot;vs&quot;</span>   <span class="st">&quot;am&quot;</span>   <span class="st">&quot;gear&quot;</span></span>
<span id="cb23-3"><a href="data-manipulation.html#cb23-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span></span></code></pre></div>
<p>To see just the dimensions of the data frame, use the <code>dim()</code> function. It returns the number of rows and columns, respectively.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-manipulation.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">dim</span>(mtcars)</span>
<span id="cb24-2"><a href="data-manipulation.html#cb24-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">32</span> <span class="dv">11</span></span></code></pre></div>
</div>
</div>
<div id="rename-variables" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Rename variables</h2>
<p>How to rename variables or “column headers.”</p>
<div id="python-14" class="section level4 unnumbered">
<h4>Python</h4>
</div>
<div id="r-14" class="section level4 unnumbered">
<h4>R</h4>
<p>Variable names can be changed by their index (ie, order of columns in the data frame). Below the second column is “cyl.” We change the name to “cylinder.”</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-manipulation.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="dv">2</span>]</span>
<span id="cb25-2"><a href="data-manipulation.html#cb25-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;cyl&quot;</span></span>
<span id="cb25-3"><a href="data-manipulation.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;cylinders&quot;</span></span>
<span id="cb25-4"><a href="data-manipulation.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb25-5"><a href="data-manipulation.html#cb25-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>       <span class="st">&quot;cylinders&quot;</span> <span class="st">&quot;disp&quot;</span>      <span class="st">&quot;hp&quot;</span>        <span class="st">&quot;drat&quot;</span>      <span class="st">&quot;wt&quot;</span>       </span>
<span id="cb25-6"><a href="data-manipulation.html#cb25-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;qsec&quot;</span>      <span class="st">&quot;vs&quot;</span>        <span class="st">&quot;am&quot;</span>        <span class="st">&quot;gear&quot;</span>      <span class="st">&quot;carb&quot;</span>     </span></code></pre></div>
<p>Variable names can also be changed by conditional match. Below we find the variable name that matches “drat” and change to “axle_ratio.”</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-manipulation.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">names</span>(mtcars) <span class="sc">==</span> <span class="st">&quot;drat&quot;</span>]</span>
<span id="cb26-2"><a href="data-manipulation.html#cb26-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;drat&quot;</span></span>
<span id="cb26-3"><a href="data-manipulation.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">names</span>(mtcars) <span class="sc">==</span> <span class="st">&quot;drat&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb26-4"><a href="data-manipulation.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb26-5"><a href="data-manipulation.html#cb26-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>        <span class="st">&quot;cylinders&quot;</span>  <span class="st">&quot;disp&quot;</span>       <span class="st">&quot;hp&quot;</span>         <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb26-6"><a href="data-manipulation.html#cb26-6" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;wt&quot;</span>         <span class="st">&quot;qsec&quot;</span>       <span class="st">&quot;vs&quot;</span>         <span class="st">&quot;am&quot;</span>         <span class="st">&quot;gear&quot;</span>      </span>
<span id="cb26-7"><a href="data-manipulation.html#cb26-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span>      </span></code></pre></div>
<p>More than one variable name can be changed using a vector of positions or matches.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-manipulation.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(mtcars)[<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">8</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;weight&quot;</span>, <span class="st">&quot;engine&quot;</span>)</span>
<span id="cb27-2"><a href="data-manipulation.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb27-3"><a href="data-manipulation.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># or</span></span>
<span id="cb27-4"><a href="data-manipulation.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># names(mtcars)[names(mtcars) %in% c(&quot;wt&quot;, &quot;vs&quot;)] &lt;- c(&quot;weight&quot;, &quot;engine&quot;)</span></span>
<span id="cb27-5"><a href="data-manipulation.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb27-6"><a href="data-manipulation.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">names</span>(mtcars)</span>
<span id="cb27-7"><a href="data-manipulation.html#cb27-7" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;mpg&quot;</span>        <span class="st">&quot;cylinders&quot;</span>  <span class="st">&quot;disp&quot;</span>       <span class="st">&quot;hp&quot;</span>         <span class="st">&quot;axle_ratio&quot;</span></span>
<span id="cb27-8"><a href="data-manipulation.html#cb27-8" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;weight&quot;</span>     <span class="st">&quot;qsec&quot;</span>       <span class="st">&quot;engine&quot;</span>     <span class="st">&quot;am&quot;</span>         <span class="st">&quot;gear&quot;</span>      </span>
<span id="cb27-9"><a href="data-manipulation.html#cb27-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;carb&quot;</span>      </span></code></pre></div>
<p>See also the <code>rename()</code> function in the <strong>dplyr</strong> package.</p>
</div>
</div>
<div id="create-strings-from-numbers" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Create strings from numbers</h2>
<p>You may have data that is numeric but that needs to be treated as a string. For example, census data often codes age ranges as groups. For example:</p>
<ul>
<li>1 = 0-6</li>
<li>2 = 7-12</li>
<li>3 = 13-17</li>
</ul>
<p>And so on. These numbers represent groups, not a count or measure of anything.</p>
<div id="python-15" class="section level4 unnumbered">
<h4>Python</h4>
</div>
<div id="r-15" class="section level4 unnumbered">
<h4>R</h4>
<p>The <code>as.character()</code> function takes a vector and converts it to string format.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-manipulation.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># create a vector of numbers</span></span>
<span id="cb28-2"><a href="data-manipulation.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb28-3"><a href="data-manipulation.html#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x</span>
<span id="cb28-4"><a href="data-manipulation.html#cb28-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">4</span></span>
<span id="cb28-5"><a href="data-manipulation.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># convert to string</span></span>
<span id="cb28-6"><a href="data-manipulation.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> xc <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x)</span>
<span id="cb28-7"><a href="data-manipulation.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> xc</span>
<span id="cb28-8"><a href="data-manipulation.html#cb28-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;4&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;4&quot;</span></span></code></pre></div>
<p>The <code>factor()</code> function can also be used to convert a numeric vector into a categorical variable. The result is not exactly a string, however. A factor is made of integers with character labels. Factors are useful for character data that have a fixed set of levels (eg, “grade 1,” grade 2", etc)</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-manipulation.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># convert to factor</span></span>
<span id="cb29-2"><a href="data-manipulation.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> xf <span class="ot">&lt;-</span> <span class="fu">factor</span>(x)</span>
<span id="cb29-3"><a href="data-manipulation.html#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> xf</span>
<span id="cb29-4"><a href="data-manipulation.html#cb29-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">4</span></span>
<span id="cb29-5"><a href="data-manipulation.html#cb29-5" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb29-6"><a href="data-manipulation.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># convert to factor with labels</span></span>
<span id="cb29-7"><a href="data-manipulation.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> xf2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(x, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;grade 2&quot;</span>, <span class="st">&quot;grade 3&quot;</span>, <span class="st">&quot;grade 4&quot;</span>))</span>
<span id="cb29-8"><a href="data-manipulation.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> xf2</span>
<span id="cb29-9"><a href="data-manipulation.html#cb29-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] grade <span class="dv">2</span> grade <span class="dv">2</span> grade <span class="dv">3</span> grade <span class="dv">4</span> grade <span class="dv">2</span> grade <span class="dv">4</span></span>
<span id="cb29-10"><a href="data-manipulation.html#cb29-10" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> grade <span class="dv">2</span> grade <span class="dv">3</span> grade <span class="dv">4</span></span></code></pre></div>
</div>
</div>
<div id="create-numbers-from-strings" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Create numbers from strings</h2>
<div id="python-16" class="section level4 unnumbered">
<h4>Python</h4>
</div>
<div id="r-16" class="section level4 unnumbered">
<h4>R</h4>
</div>
</div>
<div id="change-case" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Change case</h2>
<div id="python-17" class="section level4 unnumbered">
<h4>Python</h4>
</div>
<div id="r-17" class="section level4 unnumbered">
<h4>R</h4>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="combine-reshape-and-merge.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/uvastatlab/Python_and_R/edit/main/04-data-manipulation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
